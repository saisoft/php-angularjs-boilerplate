/*!
 * FullCalendar v2.2.3
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(a){if (typeof define === "function" && define.amd){define(["jquery", "moment"], a)} else{a(jQuery, moment)}})(function(aF, x){var R = {lang:"en", defaultTimedEventDuration:"02:00:00", defaultAllDayEventDuration:{days:1}, forceEventDuration:false, nextDayThreshold:"09:00:00", defaultView:"month", aspectRatio:1.35, header:{left:"title", center:"", right:"today prev,next"}, weekends:true, weekNumbers:false, weekNumberTitle:"W", weekNumberCalculation:"local", lazyFetching:true, startParam:"start", endParam:"end", timezoneParam:"timezone", timezone:false, titleFormat:{month:"MMMM YYYY", week:"ll", day:"LL"}, columnFormat:{month:"ddd", week:ac, day:"dddd"}, timeFormat:{"default":s}, displayEventEnd:{month:false, basicWeek:false, "default":true}, isRTL:false, defaultButtonText:{prev:"prev", next:"next", prevYear:"prev year", nextYear:"next year", today:"today", month:"month", week:"week", day:"day"}, buttonIcons:{prev:"left-single-arrow", next:"right-single-arrow", prevYear:"left-double-arrow", nextYear:"right-double-arrow"}, theme:false, themeButtonIcons:{prev:"circle-triangle-w", next:"circle-triangle-e", prevYear:"seek-prev", nextYear:"seek-next"}, dragOpacity:0.75, dragRevertDuration:500, dragScroll:true, unselectAuto:true, dropAccept:"*", eventLimit:false, eventLimitText:"more", eventLimitClick:"popover", dayPopoverFormat:"LL", handleWindowResize:true, windowResizeDelay:200}; function s(a3, a2){return a2.longDateFormat("LT").replace(":mm", "(:mm)").replace(/(\Wmm)$/, "($1)").replace(/\s*a$/i, "t")}function ac(a3, a2){var a4 = a2.longDateFormat("L"); a4 = a4.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g, ""); if (a3.isRTL){a4 += " ddd"} else{a4 = "ddd " + a4}return a4}var aH = {en:{columnFormat:{week:"ddd M/D"}, dayPopoverFormat:"dddd, MMMM D"}}; var X = {header:{left:"next,prev today", center:"", right:"title"}, buttonIcons:{prev:"right-single-arrow", next:"left-single-arrow", prevYear:"right-double-arrow", nextYear:"left-double-arrow"}, themeButtonIcons:{prev:"circle-triangle-e", next:"circle-triangle-w", nextYear:"seek-prev", prevYear:"seek-next"}}; var aT = aF.fullCalendar = {version:"2.2.3"}; var at = aT.views = {}; aF.fn.fullCalendar = function(a3){var a2 = Array.prototype.slice.call(arguments, 1); var a4 = this; this.each(function(a7, a5){var a6 = aF(a5); var a9 = a6.data("fullCalendar"); var a8; if (typeof a3 === "string"){if (a9 && aF.isFunction(a9[a3])){a8 = a9[a3].apply(a9, a2); if (!a7){a4 = a8}if (a3 === "destroy"){a6.removeData("fullCalendar")}}} else{if (!a9){a9 = new o(a6, a3); a6.data("fullCalendar", a9); a9.render()}}}); return a4}; function ax(a2){aP(R, a2)}function aP(a4){function a3(a5, a6){if (aF.isPlainObject(a6) && aF.isPlainObject(a4[a5]) && !Y(a5)){a4[a5] = aP({}, a4[a5], a6)} else{if (a6 !== undefined){a4[a5] = a6}}}for (var a2 = 1; a2 < arguments.length; a2++){aF.each(arguments[a2], a3)}return a4}function Y(a2){return/(Time|Duration)$/.test(a2)}aT.langs = aH; aT.datepickerLang = function(a5, a2, a3){var a4 = aH[a5]; if (!a4){a4 = aH[a5] = {}}aP(a4, {isRTL:a3.isRTL, weekNumberTitle:a3.weekHeader, titleFormat:{month:a3.showMonthAfterYear?"YYYY[" + a3.yearSuffix + "] MMMM":"MMMM YYYY[" + a3.yearSuffix + "]"}, defaultButtonText:{prev:aa(a3.prevText), next:aa(a3.nextText), today:aa(a3.currentText)}}); if (aF.datepicker){aF.datepicker.regional[a2] = aF.datepicker.regional[a5] = a3; aF.datepicker.regional.en = aF.datepicker.regional[""]; aF.datepicker.setDefaults(a3)}}; aT.lang = function(a4, a2){var a3; if (a2){a3 = aH[a4]; if (!a3){a3 = aH[a4] = {}}aP(a3, a2 || {})}R.lang = a4}; function o(bm, bg){var bN = this; bg = bg || {}; var bu = aP({}, R, bg); var bF; if (bu.lang in aH){bF = aH[bu.lang]} else{bF = aH[R.lang]}if (bF){bu = aP({}, R, bF, bg)}if (bu.isRTL){bu = aP({}, R, X, bF || {}, bg)}bN.options = bu; bN.render = bC; bN.destroy = bP; bN.refetchEvents = bh; bN.reportEvents = bk; bN.reportEventChange = bR; bN.rerenderEvents = a9; bN.changeView = bc; bN.select = bO; bN.unselect = bd; bN.prev = bz; bN.next = a5; bN.prevYear = bQ; bN.nextYear = a3; bN.today = bn; bN.gotoDate = bB; bN.incrementDate = br; bN.zoomTo = bV; bN.getDate = bs; bN.getCalendar = bH; bN.getView = bx; bN.option = bK; bN.trigger = bA; function bi(bY){var bX = x.localeData || x.langData; return bX.call(x, bY) || bX.call(x, "en")}var bE = P(bi(bu.lang)); if (bu.monthNames){bE._months = bu.monthNames}if (bu.monthNamesShort){bE._monthsShort = bu.monthNamesShort}if (bu.dayNames){bE._weekdays = bu.dayNames}if (bu.dayNamesShort){bE._weekdaysShort = bu.dayNamesShort}if (bu.firstDay != null){var a4 = P(bE._week); a4.dow = bu.firstDay; bE._week = a4}bN.defaultAllDayEventDuration = x.duration(bu.defaultAllDayEventDuration); bN.defaultTimedEventDuration = x.duration(bu.defaultTimedEventDuration); bN.moment = function(){var bX; if (bu.timezone === "local"){bX = aT.moment.apply(null, arguments); if (bX.hasTime()){bX.local()}} else{if (bu.timezone === "UTC"){bX = aT.moment.utc.apply(null, arguments)} else{bX = aT.moment.parseZone.apply(null, arguments)}}if ("_locale" in bX){bX._locale = bE} else{bX._lang = bE}return bX}; bN.getIsAmbigTimezone = function(){return bu.timezone !== "local" && bu.timezone !== "UTC"}; bN.rezoneDate = function(bX){return bN.moment(bX.toArray())}; bN.getNow = function(){var bX = bu.now; if (typeof bX === "function"){bX = bX()}return bN.moment(bX)}; bN.calculateWeekNumber = function(bY){var bX = bu.weekNumberCalculation; if (typeof bX === "function"){return bX(bY)} else{if (bX === "local"){return bY.week()} else{if (bX.toUpperCase() === "ISO"){return bY.isoWeek()}}}}; bN.getEventEnd = function(bX){if (bX.end){return bX.end.clone()} else{return bN.getDefaultEventEnd(bX.allDay, bX.start)}}; bN.getDefaultEventEnd = function(bY, bZ){var bX = bZ.clone(); if (bY){bX.stripTime().add(bN.defaultAllDayEventDuration)} else{bX.add(bN.defaultTimedEventDuration)}if (bN.getIsAmbigTimezone()){bX.stripZone()}return bX}; bN.formatRange = function(bZ, bY, bX){if (typeof bX === "function"){bX = bX.call(bN, bu, bE)}return M(bZ, bY, bX, null, bu.isRTL)}; bN.formatDate = function(bY, bX){if (typeof bX === "function"){bX = bX.call(bN, bu, bE)}return C(bY, bX)}; n.call(bN, bu); var a2 = bN.isFetchNeeded; var bU = bN.fetchEvents; var bL = bm[0]; var a7; var bD; var bf; var bW; var be; var ba; var bT; var bM = 0; var bS; var bw = []; if (bu.defaultDate != null){bS = bN.moment(bu.defaultDate)} else{bS = bN.getNow()}function bC(bX){if (!bf){bv()} else{if (bJ()){bG(); bt(bX)}}}function bv(){bW = bu.theme?"ui":"fc"; bm.addClass("fc"); if (bu.isRTL){bm.addClass("fc-rtl")} else{bm.addClass("fc-ltr")}if (bu.theme){bm.addClass("ui-widget")} else{bm.addClass("fc-unthemed")}bf = aF("<div class='fc-view-container'/>").prependTo(bm); a7 = new Z(bN, bu); bD = a7.render(); if (bD){bm.prepend(bD)}bc(bu.defaultView); if (bu.handleWindowResize){bT = a1(bj, bu.windowResizeDelay); aF(window).resize(bT)}}function bP(){if (be){be.destroy()}a7.destroy(); bf.remove(); bm.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"); aF(window).unbind("resize", bT)}function bJ(){return bm.is(":visible")}function bc(bX){bt(0, bX)}function bt(bY, bX){bM++; if (be && bX && be.name !== bX){a7.deactivateButton(be.name); a6(); if (be.start){be.destroy()}be.el.remove(); be = null}if (!be && bX){be = new at[bX](bN); be.el = aF("<div class='fc-view fc-" + bX + "-view' />").appendTo(bf); a7.activateButton(bX)}if (be){if (bY){bS = be.incrementDate(bS, bY)}if (!be.start || bY || !bS.isWithin(be.intervalStart, be.intervalEnd)){if (bJ()){a6(); if (be.start){be.destroy()}be.render(bS); bl(); bo(); by(); bb()}}}bl(); bM--}bN.getSuggestedViewHeight = function(){if (ba === undefined){bG()}return ba}; bN.isHeightAuto = function(){return bu.contentHeight === "auto" || bu.height === "auto"}; function bp(bX){if (bJ()){if (bX){a8()}bM++; be.updateSize(true); bM--; return true}}function bG(){if (bJ()){a8()}}function a8(){if (typeof bu.contentHeight === "number"){ba = bu.contentHeight} else{if (typeof bu.height === "number"){ba = bu.height - (bD?bD.outerHeight(true):0)} else{ba = Math.round(bf.width() / Math.max(bu.aspectRatio, 0.5))}}}function bj(bX){if (!bM && bX.target === window && be.start){if (bp(true)){be.trigger("windowResize", bL)}}}function bh(){bq(); bI()}function a9(){if (bJ()){a6(); be.destroyEvents(); be.renderEvents(bw); bl()}}function bq(){a6(); be.destroyEvents(); bl()}function bb(){if (!bu.lazyFetching || a2(be.start, be.end)){bI()} else{a9()}}function bI(){bU(be.start, be.end)}function bk(bX){bw = bX; a9()}function bR(){a9()}function bo(){a7.updateTitle(be.title)}function by(){var bX = bN.getNow(); if (bX.isWithin(be.intervalStart, be.intervalEnd)){a7.disableButton("today")} else{a7.enableButton("today")}}function bO(bY, bX){bY = bN.moment(bY); if (bX){bX = bN.moment(bX)} else{if (bY.hasTime()){bX = bY.clone().add(bN.defaultTimedEventDuration)} else{bX = bY.clone().add(bN.defaultAllDayEventDuration)}}be.select(bY, bX)}function bd(){if (be){be.unselect()}}function bz(){bt( - 1)}function a5(){bt(1)}function bQ(){bS.add( - 1, "years"); bt()}function a3(){bS.add(1, "years"); bt()}function bn(){bS = bN.getNow(); bt()}function bB(bX){bS = bN.moment(bX); bt()}function br(bX){bS.add(x.duration(bX)); bt()}function bV(bY, b0){var bX; var bZ; if (!b0 || at[b0] === undefined){b0 = b0 || "day"; bX = a7.getViewsWithButtons().join(" "); bZ = bX.match(new RegExp("\\w+" + aM(b0))); if (!bZ){bZ = bX.match(/\w+Day/)}b0 = bZ?bZ[0]:"agendaDay"}bS = bY; bc(b0)}function bs(){return bS.clone()}function a6(){bf.css({width:"100%", height:bf.height(), overflow:"hidden"})}function bl(){bf.css({width:"", height:"", overflow:""})}function bH(){return bN}function bx(){return be}function bK(bX, bY){if (bY === undefined){return bu[bX]}if (bX == "height" || bX == "contentHeight" || bX == "aspectRatio"){bu[bX] = bY; bp(true)}}function bA(bX, bY){if (bu[bX]){return bu[bX].apply(bY || bL, Array.prototype.slice.call(arguments, 2))}}}function Z(a7, bg){var bf = this; bf.render = a3; bf.destroy = ba; bf.updateTitle = a8; bf.activateButton = a2; bf.deactivateButton = bd; bf.disableButton = a6; bf.enableButton = a9; bf.getViewsWithButtons = a5; var a4 = aF(); var bb = []; var bc; function a3(){var bh = bg.header; bc = bg.theme?"ui":"fc"; if (bh){a4 = aF("<div class='fc-toolbar'/>").append(be("left")).append(be("right")).append(be("center")).append('<div class="fc-clear"/>'); return a4}}function ba(){a4.remove()}function be(bh){var bi = aF('<div class="fc-' + bh + '"/>'); var bj = bg.header[bh]; if (bj){aF.each(bj.split(" "), function(bk){var bl = aF(); var bm = true; var bn; aF.each(this.split(","), function(bs, bx){var bv; var bo; var br; var bw; var bu; var bp; var bq; var bt; if (bx == "title"){bl = bl.add(aF("<h2>&nbsp;</h2>")); bm = false} else{if (a7[bx]){bv = function(){a7[bx]()}} else{if (at[bx]){bv = function(){a7.changeView(bx)}; bb.push(bx)}}if (bv){bo = F(bg.themeButtonIcons, bx); br = F(bg.buttonIcons, bx); bw = F(bg.defaultButtonText, bx); bu = F(bg.buttonText, bx); if (bu){bp = aX(bu)} else{if (bo && bg.theme){bp = "<span class='ui-icon ui-icon-" + bo + "'></span>"} else{if (br && !bg.theme){bp = "<span class='fc-icon fc-icon-" + br + "'></span>"} else{bp = aX(bw || bx)}}}bq = ["fc-" + bx + "-button", bc + "-button", bc + "-state-default"]; bt = aF('<button type="button" class="' + bq.join(" ") + '">' + bp + "</button>").click(function(){if (!bt.hasClass(bc + "-state-disabled")){bv(); if (bt.hasClass(bc + "-state-active") || bt.hasClass(bc + "-state-disabled")){bt.removeClass(bc + "-state-hover")}}}).mousedown(function(){bt.not("." + bc + "-state-active").not("." + bc + "-state-disabled").addClass(bc + "-state-down")}).mouseup(function(){bt.removeClass(bc + "-state-down")}).hover(function(){bt.not("." + bc + "-state-active").not("." + bc + "-state-disabled").addClass(bc + "-state-hover")}, function(){bt.removeClass(bc + "-state-hover").removeClass(bc + "-state-down")}); bl = bl.add(bt)}}}); if (bm){bl.first().addClass(bc + "-corner-left").end().last().addClass(bc + "-corner-right").end()}if (bl.length > 1){bn = aF("<div/>"); if (bm){bn.addClass("fc-button-group")}bn.append(bl); bi.append(bn)} else{bi.append(bl)}})}return bi}function a8(bh){a4.find("h2").text(bh)}function a2(bh){a4.find(".fc-" + bh + "-button").addClass(bc + "-state-active")}function bd(bh){a4.find(".fc-" + bh + "-button").removeClass(bc + "-state-active")}function a6(bh){a4.find(".fc-" + bh + "-button").attr("disabled", "disabled").addClass(bc + "-state-disabled")}function a9(bh){a4.find(".fc-" + bh + "-button").removeAttr("disabled").removeClass(bc + "-state-disabled")}function a5(){return bb}}aT.sourceNormalizers = []; aT.sourceFetchers = []; var l = {dataType:"json", cache:false}; var ag = 1; function n(bq){var by = this; by.isFetchNeeded = a2; by.fetchEvents = bF; by.addEventSource = bb; by.removeEventSource = a5; by.updateEvent = bv; by.renderEvent = bk; by.removeEvents = bD; by.clientEvents = bd; by.mutateEvent = a4; var bt = by.trigger; var bs = by.getView; var bh = by.reportEvents; var bz = by.getEventEnd; var a8 = {events:[]}; var bw = [a8]; var be, bi; var bG = 0; var bm = 0; var bI = 0; var bg = []; aF.each((bq.events?[bq.events]:[]).concat(bq.eventSources || []), function(bK, bM){var bL = bn(bM); if (bL){bw.push(bL)}}); function a2(bL, bK){return !be || bL.clone().stripZone() < be.clone().stripZone() || bK.clone().stripZone() > bi.clone().stripZone()}function bF(bO, bL){be = bO; bi = bL; bg = []; var bN = ++bG; var bK = bw.length; bm = bK; for (var bM = 0; bM < bK; bM++){bl(bw[bM], bN)}}function bl(bL, bK){a9(bL, function(bQ){var bP = aF.isArray(bL.events); var bO, bN; var bM; if (bK == bG){if (bQ){for (bO = 0; bO < bQ.length; bO++){bN = bQ[bO]; if (bP){bM = bN} else{bM = a7(bN, bL)}if (bM){bg.push.apply(bg, bH(bM))}}}bm--; if (!bm){bh(bg)}}})}function a9(bK, bV){var bP; var bT = aT.sourceFetchers; var bR; for (bP = 0; bP < bT.length; bP++){bR = bT[bP].call(by, bK, be.clone(), bi.clone(), bq.timezone, bV); if (bR === true){return} else{if (typeof bR == "object"){a9(bR, bV); return}}}var bX = bK.events; if (bX){if (aF.isFunction(bX)){ba(); bX.call(by, be.clone(), bi.clone(), bq.timezone, function(bZ){bV(bZ); a6()})} else{if (aF.isArray(bX)){bV(bX)} else{bV()}}} else{var bL = bK.url; if (bL){var bW = bK.success; var bS = bK.error; var bM = bK.complete; var bY; if (aF.isFunction(bK.data)){bY = bK.data()} else{bY = bK.data}var bO = aF.extend({}, bY || {}); var bQ = aZ(bK.startParam, bq.startParam); var bN = aZ(bK.endParam, bq.endParam); var bU = aZ(bK.timezoneParam, bq.timezoneParam); if (bQ){bO[bQ] = be.format()}if (bN){bO[bN] = bi.format()}if (bq.timezone && bq.timezone != "local"){bO[bU] = bq.timezone}ba(); aF.ajax(aF.extend({}, l, bK, {data:bO, success:function(b0){b0 = b0 || []; var bZ = L(bW, this, arguments); if (aF.isArray(bZ)){b0 = bZ}bV(b0)}, error:function(){L(bS, this, arguments); bV()}, complete:function(){L(bM, this, arguments); a6()}}))} else{bV()}}}function bb(bL){var bK = bn(bL); if (bK){bw.push(bK); bm++; bl(bK, bG)}}function bn(bN){var bL = aT.sourceNormalizers; var bM; var bK; if (aF.isFunction(bN) || aF.isArray(bN)){bM = {events:bN}} else{if (typeof bN === "string"){bM = {url:bN}} else{if (typeof bN === "object"){bM = aF.extend({}, bN)}}}if (bM){if (bM.className){if (typeof bM.className === "string"){bM.className = bM.className.split(/\s+/)}} else{bM.className = []}if (aF.isArray(bM.events)){bM.origArray = bM.events; bM.events = aF.map(bM.events, function(bO){return a7(bO, bM)})}for (bK = 0; bK < bL.length; bK++){bL[bK].call(by, bM)}return bM}}function a5(bK){bw = aF.grep(bw, function(bL){return !bx(bL, bK)}); bg = aF.grep(bg, function(bL){return !bx(bL.source, bK)}); bh(bg)}function bx(bL, bK){return bL && bK && bf(bL) == bf(bK)}function bf(bK){return((typeof bK === "object")?(bK.origArray || bK.googleCalendarId || bK.url || bK.events):null) || bK}function bv(bK){bK.start = by.moment(bK.start); if (bK.end){bK.end = by.moment(bK.end)}a4(bK); bJ(bK); bh(bg)}var bA = ["title", "url", "allDay", "className", "editable", "color", "backgroundColor", "borderColor", "textColor"]; function bJ(bN){var bL; var bM; var bK; var bO; for (bL = 0; bL < bg.length; bL++){bM = bg[bL]; if (bM._id == bN._id && bM !== bN){for (bK = 0; bK < bA.length; bK++){bO = bA[bK]; if (bN[bO] !== undefined){bM[bO] = bN[bO]}}}}}function bk(bO, bK){var bL = a7(bO); var bN; var bM, bP; if (bL){bN = bH(bL); for (bM = 0; bM < bN.length; bM++){bP = bN[bM]; if (!bP.source){if (bK){a8.events.push(bP); bP.source = a8}bg.push(bP)}}bh(bg); return bN}return[]}function bD(bM){var bL; var bK; if (bM == null){bM = function(){return true}} else{if (!aF.isFunction(bM)){bL = bM + ""; bM = function(bN){return bN._id == bL}}}bg = aF.grep(bg, bM, true); for (bK = 0; bK < bw.length; bK++){if (aF.isArray(bw[bK].events)){bw[bK].events = aF.grep(bw[bK].events, bM, true)}}bh(bg)}function bd(bK){if (aF.isFunction(bK)){return aF.grep(bg, bK)} else{if (bK != null){bK += ""; return aF.grep(bg, function(bL){return bL._id == bK})}}return bg}function ba(){if (!(bI++)){bt("loading", null, true, bs())}}function a6(){if (!(--bI)){bt("loading", null, false, bs())}}function a7(bL, bP){var bM = {}; var bQ, bK; var bO; var bN; if (bq.eventDataTransform){bL = bq.eventDataTransform(bL)}if (bP && bP.eventDataTransform){bL = bP.eventDataTransform(bL)}aF.extend(bM, bL); if (bP){bM.source = bP}bM._id = bL._id || (bL.id === undefined?"_fc" + ag++:bL.id + ""); if (bL.className){if (typeof bL.className == "string"){bM.className = bL.className.split(/\s+/)} else{bM.className = bL.className}} else{bM.className = []}bQ = bL.start || bL.date; bK = bL.end; if (J(bQ)){bQ = x.duration(bQ)}if (J(bK)){bK = x.duration(bK)}if (bL.dow || x.isDuration(bQ) || x.isDuration(bK)){bM.start = bQ?x.duration(bQ):null; bM.end = bK?x.duration(bK):null; bM._recurring = true} else{if (bQ){bQ = by.moment(bQ); if (!bQ.isValid()){return false}}if (bK){bK = by.moment(bK); if (!bK.isValid()){bK = null}}bO = bL.allDay; if (bO === undefined){bN = aZ(bP?bP.allDayDefault:undefined, bq.allDayDefault); if (bN !== undefined){bO = bN} else{bO = !bQ.hasTime() && (!bK || !bK.hasTime())}}bo(bQ, bK, bO, bM)}return bM}function bo(bN, bK, bM, bL){if (bM){if (bN.hasTime()){bN.stripTime()}if (bK && bK.hasTime()){bK.stripTime()}} else{if (!bN.hasTime()){bN = by.rezoneDate(bN)}if (bK && !bK.hasTime()){bK = by.rezoneDate(bK)}}if (bK && bK <= bN){bK = null}bL.allDay = bM; bL.start = bN; bL.end = bK || null; if (bq.forceEventDuration && !bL.end){bL.end = bz(bL)}ap(bL)}function bH(bR, bU, bN){var bW = []; var bT; var bV; var bQ; var bO; var bM, bS; var bL, bP; var bK; bU = bU || be; bN = bN || bi; if (bR){if (bR._recurring){if ((bV = bR.dow)){bT = {}; for (bQ = 0; bQ < bV.length; bQ++){bT[bV[bQ]] = true}}bO = bU.clone().stripTime(); while (bO.isBefore(bN)){if (!bT || bT[bO.day()]){bM = bR.start; bS = bR.end; bL = bO.clone(); bP = null; if (bM){bL = bL.time(bM)}if (bS){bP = bO.clone().time(bS)}bK = aF.extend({}, bR); bo(bL, bP, !bM && !bS, bK); bW.push(bK)}bO.add(1, "days")}} else{bW.push(bR)}}return bW}function a4(bL, bR, bP){var bU = bL._allDay; var bQ = bL._start; var bT = bL._end; var bK = false; var bM; var bO; var bS; var bN; if (!bR && !bP){bR = bL.start; bP = bL.end}if (bL.allDay != bU){bM = bL.allDay} else{bM = !(bR || bP).hasTime()}if (bM){if (bR){bR = bR.clone().stripTime()}if (bP){bP = bP.clone().stripTime()}}if (bR){if (bM){bO = aE(bR, bQ.clone().stripTime())} else{bO = aE(bR, bQ)}}if (bM != bU){bK = true} else{if (bP){bS = aE(bP || by.getDefaultEventEnd(bM, bR || bQ), bR || bQ).subtract(aE(bT || by.getDefaultEventEnd(bU, bQ), bQ))}}bN = br(bd(bL._id), bK, bM, bO, bS); return{dateDelta:bO, durationDelta:bS, undo:bN}}function br(bO, bQ, bM, bP, bN){var bL = by.getIsAmbigTimezone(); var bK = []; aF.each(bO, function(bS, bX){var bW = bX._allDay; var bV = bX._start; var bT = bX._end; var bY = bM != null?bM:bW; var bR = bV.clone(); var bU = (!bQ && bT)?bT.clone():null; if (bY){bR.stripTime(); if (bU){bU.stripTime()}} else{if (!bR.hasTime()){bR = by.rezoneDate(bR)}if (bU && !bU.hasTime()){bU = by.rezoneDate(bU)}}if (!bU && (bq.forceEventDuration || + bN)){bU = by.getDefaultEventEnd(bY, bR)}bR.add(bP); if (bU){bU.add(bP).add(bN)}if (bL){if ( + bP || + bN){bR.stripZone(); if (bU){bU.stripZone()}}}bX.allDay = bY; bX.start = bR; bX.end = bU; ap(bX); bK.push(function(){bX.allDay = bW; bX.start = bV; bX.end = bT; ap(bX)})}); return function(){for (var bR = 0; bR < bK.length; bR++){bK[bR]()}}}by.getBusinessHoursEvents = bj; function bj(){var bM = bq.businessHours; var bN = {className:"fc-nonbusiness", start:"09:00", end:"17:00", dow:[1, 2, 3, 4, 5], rendering:"inverse-background"}; var bK = by.getView(); var bL; if (bM){if (typeof bM === "object"){bL = aF.extend({}, bN, bM)} else{bL = bN}}if (bL){return bH(a7(bL), bK.start, bK.end)}return[]}by.isEventAllowedInRange = a3; by.isSelectionAllowedInRange = bB; by.isExternalDragAllowedInRange = bC; function a3(bM, bP, bL){var bN = bM.source || {}; var bO = aZ(bM.constraint, bN.constraint, bq.eventConstraint); var bK = aZ(bM.overlap, bN.overlap, bq.eventOverlap); return bp(bP, bL, bO, bK, bM)}function bB(bL, bK){return bp(bL, bK, bq.selectConstraint, bq.selectOverlap)}function bC(bN, bK, bL){var bM; if (bL){bM = bH(a7(bL))[0]; if (bM){return a3(bM, bN, bK)}}return bB(bN, bK)}function bp(bM, bQ, bN, bT, bL){var bK; var bO; var bR, bS; var bP; bM = bM.clone().stripZone(); bQ = bQ.clone().stripZone(); if (bN != null){bK = bu(bN); bO = false; for (bR = 0; bR < bK.length; bR++){if (bc(bK[bR], bM, bQ)){bO = true; break}}if (!bO){return false}}for (bR = 0; bR < bg.length; bR++){bS = bg[bR]; if (bL && bL._id === bS._id){continue}if (bE(bS, bM, bQ)){if (bT === false){return false} else{if (typeof bT === "function" && !bT(bS, bL)){return false}}if (bL){bP = aZ(bS.overlap, (bS.source || {}).overlap); if (bP === false){return false}if (typeof bP === "function" && !bP(bL, bS)){return false}}}}return true}function bu(bK){if (bK === "businessHours"){return bj()}if (typeof bK === "object"){return bH(a7(bK))}return bd(bK)}function bc(bN, bO, bM){var bL = bN.start.clone().stripZone(); var bK = by.getEventEnd(bN).stripZone(); return bO >= bL && bM <= bK}function bE(bN, bO, bM){var bL = bN.start.clone().stripZone(); var bK = by.getEventEnd(bN).stripZone(); return bO < bK && bM > bL}}function ap(a2){a2._allDay = a2.allDay; a2._start = a2.start.clone(); a2._end = a2.end?a2.end.clone():null}function aQ(a3, a2){if (a2.left){a3.css({"border-left-width":1, "margin-left":a2.left - 1})}if (a2.right){a3.css({"border-right-width":1, "margin-right":a2.right - 1})}}function ah(a2){a2.css({"margin-left":"", "margin-right":"", "border-left-width":"", "border-right-width":""})}function an(){aF("body").addClass("fc-not-allowed")}function y(){aF("body").removeClass("fc-not-allowed")}function E(a7, a6, a3){var a4 = Math.floor(a6 / a7.length); var a2 = Math.floor(a6 - a4 * (a7.length - 1)); var a8 = []; var a9 = []; var a5 = []; var ba = 0; c(a7); a7.each(function(bc, bd){var be = bc === a7.length - 1?a2:a4; var bb = aF(bd).outerHeight(true); if (bb < be){a8.push(bd); a9.push(bb); a5.push(aF(bd).height())} else{ba += bb}}); if (a3){a6 -= ba; a4 = Math.floor(a6 / a8.length); a2 = Math.floor(a6 - a4 * (a8.length - 1))}aF(a8).each(function(bd, be){var bg = bd === a8.length - 1?a2:a4; var bc = a9[bd]; var bf = a5[bd]; var bb = bg - (bc - bf); if (bc < bg){aF(be).height(bb)}})}function c(a2){a2.height("")}function H(a2){var a3 = 0; a2.find("> *").each(function(a5, a6){var a4 = aF(a6).outerWidth(); if (a4 > a3){a3 = a4}}); a3++; a2.width(a3); return a3}function aR(a3, a2){a3.height(a2).addClass("fc-scroller"); if (a3[0].scrollHeight - 1 > a3[0].clientHeight){return true}q(a3); return false}function q(a2){a2.height("").removeClass("fc-scroller")}function al(a3){var a2 = a3.css("position"), a4 = a3.parents().filter(function(){var a5 = aF(this); return(/(auto|scroll)/).test(a5.css("overflow") + a5.css("overflow-y") + a5.css("overflow-x"))}).eq(0); return a2 === "fixed" || !a4.length?aF(a3[0].ownerDocument || document):a4}function i(a2){var a4 = a2.offset().left; var a6 = a4 + a2.width(); var a3 = a2.children(); var a5 = a3.offset().left; var a7 = a5 + a3.outerWidth(); return{left:a5 - a4, right:a6 - a7}}function S(a2){return a2.which == 1 && !a2.ctrlKey}function aC(a6, a3, a9, a5){var a4, a7; var a2, a8; if (a3 > a9 && a6 < a5){if (a6 >= a9){a4 = a6.clone(); a2 = true} else{a4 = a9.clone(); a2 = false}if (a3 <= a5){a7 = a3.clone(); a8 = true} else{a7 = a5.clone(); a8 = false}return{start:a4, end:a7, isStart:a2, isEnd:a8}}}function F(a6, a2){a6 = a6 || {}; if (a6[a2] !== undefined){return a6[a2]}var a5 = a2.split(/(?=[A-Z])/), a4 = a5.length - 1, a3; for (; a4 >= 0; a4--){a3 = a6[a5[a4].toLowerCase()]; if (a3 !== undefined){return a3}}return a6["default"]}var W = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"]; function aE(a3, a2){return x.duration({days:a3.clone().stripTime().diff(a2.clone().stripTime(), "days"), ms:a3.time() - a2.time()})}function I(a2){return Object.prototype.toString.call(a2) === "[object Date]" || a2 instanceof Date}function J(a2){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(a2)}aT.applyAll = L; function P(a2){var a3 = function(){}; a3.prototype = a2; return new a3()}function L(a5, a6, a3){if (aF.isFunction(a5)){a5 = [a5]}if (a5){var a4; var a2; for (a4 = 0; a4 < a5.length; a4++){a2 = a5[a4].apply(a6, a3) || a2}return a2}}function aZ(){for (var a2 = 0; a2 < arguments.length; a2++){if (arguments[a2] !== undefined){return arguments[a2]}}}function aX(a2){return(a2 + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/'/g, "&#039;").replace(/"/g, "&quot;").replace(/\n/g, "<br />")}function aa(a2){return a2.replace(/&.*?;/g, "")}function aM(a2){return a2.charAt(0).toUpperCase() + a2.slice(1)}function af(a3, a2){return a3 - a2}function a1(a5, a7){var a8; var a3; var a4; var a6; var a2 = function(){var a9 = + new Date() - a6; if (a9 < a7 && a9 > 0){a8 = setTimeout(a2, a7 - a9)} else{a8 = null; a5.apply(a4, a3); if (!a8){a4 = a3 = null}}}; return function(){a4 = this; a3 = arguments; a6 = + new Date(); if (!a8){a8 = setTimeout(a2, a7)}}}var t = /^\s*\d{4}-\d\d$/; var Q = /^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/; var T = x.fn; var aA = aF.extend({}, T); var aG; var f; var ab; aT.moment = function(){return u(arguments)}; aT.moment.utc = function(){var a2 = u(arguments, true); if (a2.hasTime()){a2.utc()}return a2}; aT.moment.parseZone = function(){return u(arguments, true, true)}; function u(a8, a7, a6){var ba = a8[0]; var a5 = a8.length == 1 && typeof ba === "string"; var a4; var a9; var a2; var a3; if (x.isMoment(ba)){a3 = x.apply(null, a8); p(ba, a3)} else{if (I(ba) || ba === undefined){a3 = x.apply(null, a8)} else{a4 = false; a9 = false; if (a5){if (t.test(ba)){ba += "-01"; a8 = [ba]; a4 = true; a9 = true} else{if ((a2 = Q.exec(ba))){a4 = !a2[5]; a9 = true}}} else{if (aF.isArray(ba)){a9 = true}}if (a7){a3 = x.utc.apply(x, a8)} else{a3 = x.apply(null, a8)}if (a4){a3._ambigTime = true; a3._ambigZone = true} else{if (a6){if (a9){a3._ambigZone = true} else{if (a5){a3.zone(ba)}}}}}}a3._fullCalendar = true; return a3}T.clone = function(){var a2 = aA.clone.apply(this, arguments); p(this, a2); if (this._fullCalendar){a2._fullCalendar = true}return a2}; T.time = function(a3){if (!this._fullCalendar){return aA.time.apply(this, arguments)}if (a3 == null){return x.duration({hours:this.hours(), minutes:this.minutes(), seconds:this.seconds(), milliseconds:this.milliseconds()})} else{this._ambigTime = false; if (!x.isDuration(a3) && !x.isMoment(a3)){a3 = x.duration(a3)}var a2 = 0; if (x.isDuration(a3)){a2 = Math.floor(a3.asDays()) * 24}return this.hours(a2 + a3.hours()).minutes(a3.minutes()).seconds(a3.seconds()).milliseconds(a3.milliseconds())}}; T.stripTime = function(){var a2 = this.toArray(); this.utc(); f(this, a2.slice(0, 3)); this._ambigTime = true; this._ambigZone = true; return this}; T.hasTime = function(){return !this._ambigTime}; T.stripZone = function(){var a2 = this.toArray(); var a3 = this._ambigTime; this.utc(); f(this, a2); if (a3){this._ambigTime = true}this._ambigZone = true; return this}; T.hasZone = function(){return !this._ambigZone}; T.zone = function(a2){if (a2 != null){this._ambigTime = false; this._ambigZone = false}return aA.zone.apply(this, arguments)}; T.local = function(){var a2 = this.toArray(); var a3 = this._ambigZone; aA.local.apply(this, arguments); if (a3){ab(this, a2)}return this}; T.format = function(){if (this._fullCalendar && arguments[0]){return C(this, arguments[0])}if (this._ambigTime){return e(this, "YYYY-MM-DD")}if (this._ambigZone){return e(this, "YYYY-MM-DD[T]HH:mm:ss")}return aA.format.apply(this, arguments)}; T.toISOString = function(){if (this._ambigTime){return e(this, "YYYY-MM-DD")}if (this._ambigZone){return e(this, "YYYY-MM-DD[T]HH:mm:ss")}return aA.toISOString.apply(this, arguments)}; T.isWithin = function(a4, a3){var a2 = az([this, a4, a3]); return a2[0] >= a2[1] && a2[0] < a2[2]}; T.isSame = function(a4, a3){var a2; if (!this._fullCalendar){return aA.isSame.apply(this, arguments)}if (a3){a2 = az([this, a4], true); return aA.isSame.call(a2[0], a2[1], a3)} else{a4 = aT.moment.parseZone(a4); return aA.isSame.call(this, a4) && Boolean(this._ambigTime) === Boolean(a4._ambigTime) && Boolean(this._ambigZone) === Boolean(a4._ambigZone)}}; aF.each(["isBefore", "isAfter"], function(a3, a2){T[a2] = function(a6, a5){var a4; if (!this._fullCalendar){return aA[a2].apply(this, arguments)}a4 = az([this, a6]); return aA[a2].call(a4[0], a4[1], a5)}}); function az(a2, a6){var a7 = []; var a3 = false; var a5 = false; var a4; for (a4 = 0; a4 < a2.length; a4++){a7.push(aT.moment.parseZone(a2[a4])); a3 = a3 || a7[a4]._ambigTime; a5 = a5 || a7[a4]._ambigZone}for (a4 = 0; a4 < a7.length; a4++){if (a3 && !a6){a7[a4].stripTime()} else{if (a5){a7[a4].stripZone()}}}return a7}function p(a3, a2){if (a3._ambigTime){a2._ambigTime = true} else{if (a2._ambigTime){a2._ambigTime = false}}if (a3._ambigZone){a2._ambigZone = true} else{if (a2._ambigZone){a2._ambigZone = false}}}function aY(a3, a2){a3.year(a2[0] || 0).month(a2[1] || 0).date(a2[2] || 0).hours(a2[3] || 0).minutes(a2[4] || 0).seconds(a2[5] || 0).milliseconds(a2[6] || 0)}aG = "_d" in x() && "updateOffset" in x; f = aG?function(a3, a2){a3._d.setTime(Date.UTC.apply(Date, a2)); x.updateOffset(a3, false)}:aY; ab = aG?function(a3, a2){a3._d.setTime( + new Date(a2[0] || 0, a2[1] || 0, a2[2] || 0, a2[3] || 0, a2[4] || 0, a2[5] || 0, a2[6] || 0)); x.updateOffset(a3, false)}:aY; function e(a3, a2){return aA.format.call(a3, a2)}function C(a3, a2){return aU(a3, r(a2))}function aU(a2, a5){var a4 = ""; var a3; for (a3 = 0; a3 < a5.length; a3++){a4 += V(a2, a5[a3])}return a4}var d = {t:function(a2){return e(a2, "a").charAt(0)}, T:function(a2){return e(a2, "A").charAt(0)}}; function V(a3, a2){var a4; var a5; if (typeof a2 === "string"){return a2} else{if ((a4 = a2.token)){if (d[a4]){return d[a4](a3)}return e(a3, a4)} else{if (a2.maybe){a5 = aU(a3, a2.maybe); if (a5.match(/[1-9]/)){return a5}}}}return""}function M(a7, a5, a2, a6, a3){var a4; a7 = aT.moment.parseZone(a7); a5 = aT.moment.parseZone(a5); a4 = (a7.localeData || a7.lang).call(a7); a2 = a4.longDateFormat(a2) || a2; a6 = a6 || " - "; return ar(a7, a5, r(a2), a6, a3)}aT.formatRange = M; function ar(bf, bd, a7, a6, a3){var bb; var be; var a5 = ""; var a2; var a9 = ""; var bc; var ba = ""; var a8 = ""; var a4 = ""; for (be = 0; be < a7.length; be++){bb = aD(bf, bd, a7[be]); if (bb === false){break}a5 += bb}for (a2 = a7.length - 1; a2 > be; a2--){bb = aD(bf, bd, a7[a2]); if (bb === false){break}a9 = bb + a9}for (bc = be; bc <= a2; bc++){ba += V(bf, a7[bc]); a8 += V(bd, a7[bc])}if (ba || a8){if (a3){a4 = a8 + a6 + ba} else{a4 = ba + a6 + a8}}return a5 + a4 + a9}var aO = {Y:"year", M:"month", D:"day", d:"day", A:"second", a:"second", T:"second", t:"second", H:"second", h:"second", m:"second", s:"second"}; function aD(a6, a5, a2){var a3; var a4; if (typeof a2 === "string"){return a2} else{if ((a3 = a2.token)){a4 = aO[a3.charAt(0)]; if (a4 && a6.isSame(a5, a4)){return e(a6, a3)}}}return false}var aV = {}; function r(a2){if (a2 in aV){return aV[a2]}return(aV[a2] = ak(a2))}function ak(a3){var a5 = []; var a2 = /\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g; var a4; while ((a4 = a2.exec(a3))){if (a4[1]){a5.push(a4[1])} else{if (a4[2]){a5.push({maybe:ak(a4[2])})} else{if (a4[3]){a5.push({token:a4[3]})} else{if (a4[5]){a5.push(a4[5])}}}}}return a5}function k(a2){this.options = a2 || {}}k.prototype = {isHidden:true, options:null, el:null, documentMousedownProxy:null, margin:10, show:function(){if (this.isHidden){if (!this.el){this.render()}this.el.show(); this.position(); this.isHidden = false; this.trigger("show")}}, hide:function(){if (!this.isHidden){this.el.hide(); this.isHidden = true; this.trigger("hide")}}, render:function(){var a3 = this; var a2 = this.options; this.el = aF('<div class="fc-popover"/>').addClass(a2.className || "").css({top:0, left:0}).append(a2.content).appendTo(a2.parentEl); this.el.on("click", ".fc-close", function(){a3.hide()}); if (a2.autoHide){aF(document).on("mousedown", this.documentMousedownProxy = aF.proxy(this, "documentMousedown"))}}, documentMousedown:function(a2){if (this.el && !aF(a2.target).closest(this.el).length){this.hide()}}, destroy:function(){this.hide(); if (this.el){this.el.remove(); this.el = null}aF(document).off("mousedown", this.documentMousedownProxy)}, position:function(){var bc = this.options; var a8 = this.el.offsetParent().offset(); var a2 = this.el.outerWidth(); var ba = this.el.outerHeight(); var a9 = aF(window); var a7 = al(this.el); var a3; var a5; var bb; var a6; var a4; a6 = bc.top || 0; if (bc.left !== undefined){a4 = bc.left} else{if (bc.right !== undefined){a4 = bc.right - a2} else{a4 = 0}}if (a7.is(window) || a7.is(document)){a7 = a9; a3 = 0; a5 = 0} else{bb = a7.offset(); a3 = bb.top; a5 = bb.left}a3 += a9.scrollTop(); a5 += a9.scrollLeft(); if (bc.viewportConstrain !== false){a6 = Math.min(a6, a3 + a7.outerHeight() - ba - this.margin); a6 = Math.max(a6, a3 + this.margin); a4 = Math.min(a4, a5 + a7.outerWidth() - a2 - this.margin); a4 = Math.max(a4, a5 + this.margin)}this.el.css({top:a6 - a8.top, left:a4 - a8.left})}, trigger:function(a2){if (this.options[a2]){this.options[a2].apply(this, Array.prototype.slice.call(arguments, 1))}}}; function ad(a2){this.grid = a2}ad.prototype = {grid:null, rows:null, cols:null, containerEl:null, minX:null, maxX:null, minY:null, maxY:null, build:function(){this.grid.buildCoords(this.rows = [], this.cols = []); this.computeBounds()}, getCell:function(a3, a9){var a2 = null; var a6 = this.rows; var a7 = this.cols; var a5 = - 1; var a8 = - 1; var a4; if (this.inBounds(a3, a9)){for (a4 = 0; a4 < a6.length; a4++){if (a9 >= a6[a4][0] && a9 < a6[a4][1]){a5 = a4; break}}for (a4 = 0; a4 < a7.length; a4++){if (a3 >= a7[a4][0] && a3 < a7[a4][1]){a8 = a4; break}}if (a5 >= 0 && a8 >= 0){a2 = {row:a5, col:a8}; a2.grid = this.grid; a2.date = this.grid.getCellDate(a2)}}return a2}, computeBounds:function(){var a2; if (this.containerEl){a2 = this.containerEl.offset(); this.minX = a2.left; this.maxX = a2.left + this.containerEl.outerWidth(); this.minY = a2.top; this.maxY = a2.top + this.containerEl.outerHeight()}}, inBounds:function(a2, a3){if (this.containerEl){return a2 >= this.minX && a2 < this.maxX && a3 >= this.minY && a3 < this.maxY}return true}}; function B(a2){this.coordMaps = a2}B.prototype = {coordMaps:null, build:function(){var a3 = this.coordMaps; var a2; for (a2 = 0; a2 < a3.length; a2++){a3[a2].build()}}, getCell:function(a3, a6){var a5 = this.coordMaps; var a2 = null; var a4; for (a4 = 0; a4 < a5.length && !a2; a4++){a2 = a5[a4].getCell(a3, a6)}return a2}}; function aL(a3, a2){this.coordMap = a3; this.options = a2 || {}}aL.prototype = {coordMap:null, options:null, isListening:false, isDragging:false, origCell:null, origDate:null, cell:null, date:null, mouseX0:null, mouseY0:null, mousemoveProxy:null, mouseupProxy:null, scrollEl:null, scrollBounds:null, scrollTopVel:null, scrollLeftVel:null, scrollIntervalId:null, scrollHandlerProxy:null, scrollSensitivity:30, scrollSpeed:200, scrollIntervalMs:50, mousedown:function(a2){if (S(a2)){a2.preventDefault(); this.startListening(a2); if (!this.options.distance){this.startDrag(a2)}}}, startListening:function(a3){var a4; var a2; if (!this.isListening){if (a3 && this.options.scroll){a4 = al(aF(a3.target)); if (!a4.is(window) && !a4.is(document)){this.scrollEl = a4; this.scrollHandlerProxy = a1(aF.proxy(this, "scrollHandler"), 100); this.scrollEl.on("scroll", this.scrollHandlerProxy)}}this.computeCoords(); if (a3){a2 = this.getCell(a3); this.origCell = a2; this.origDate = a2?a2.date:null; this.mouseX0 = a3.pageX; this.mouseY0 = a3.pageY}aF(document).on("mousemove", this.mousemoveProxy = aF.proxy(this, "mousemove")).on("mouseup", this.mouseupProxy = aF.proxy(this, "mouseup")).on("selectstart", this.preventDefault); this.isListening = true; this.trigger("listenStart", a3)}}, computeCoords:function(){this.coordMap.build(); this.computeScrollBounds()}, mousemove:function(a3){var a4; var a2; if (!this.isDragging){a4 = this.options.distance || 1; a2 = Math.pow(a3.pageX - this.mouseX0, 2) + Math.pow(a3.pageY - this.mouseY0, 2); if (a2 >= a4 * a4){this.startDrag(a3)}}if (this.isDragging){this.drag(a3)}}, startDrag:function(a3){var a2; if (!this.isListening){this.startListening()}if (!this.isDragging){this.isDragging = true; this.trigger("dragStart", a3); a2 = this.getCell(a3); if (a2){this.cellOver(a2, true)}}}, drag:function(a3){var a2; if (this.isDragging){a2 = this.getCell(a3); if (!G(a2, this.cell)){if (this.cell){this.cellOut()}if (a2){this.cellOver(a2)}}this.dragScroll(a3)}}, cellOver:function(a2){this.cell = a2; this.date = a2.date; this.trigger("cellOver", a2, a2.date)}, cellOut:function(){if (this.cell){this.trigger("cellOut", this.cell); this.cell = null; this.date = null}}, mouseup:function(a2){this.stopDrag(a2); this.stopListening(a2)}, stopDrag:function(a2){if (this.isDragging){this.stopScrolling(); this.trigger("dragStop", a2); this.isDragging = false}}, stopListening:function(a2){if (this.isListening){if (this.scrollEl){this.scrollEl.off("scroll", this.scrollHandlerProxy); this.scrollHandlerProxy = null}aF(document).off("mousemove", this.mousemoveProxy).off("mouseup", this.mouseupProxy).off("selectstart", this.preventDefault); this.mousemoveProxy = null; this.mouseupProxy = null; this.isListening = false; this.trigger("listenStop", a2); this.origCell = this.cell = null; this.origDate = this.date = null}}, getCell:function(a2){return this.coordMap.getCell(a2.pageX, a2.pageY)}, trigger:function(a2){if (this.options[a2]){this.options[a2].apply(this, Array.prototype.slice.call(arguments, 1))}}, preventDefault:function(a2){a2.preventDefault()}, computeScrollBounds:function(){var a2 = this.scrollEl; var a3; if (a2){a3 = a2.offset(); this.scrollBounds = {top:a3.top, left:a3.left, bottom:a3.top + a2.outerHeight(), right:a3.left + a2.outerWidth()}}}, dragScroll:function(a8){var a4 = this.scrollSensitivity; var a2 = this.scrollBounds; var a3, a5; var a9, ba; var a7 = 0; var a6 = 0; if (a2){a3 = (a4 - (a8.pageY - a2.top)) / a4; a5 = (a4 - (a2.bottom - a8.pageY)) / a4; a9 = (a4 - (a8.pageX - a2.left)) / a4; ba = (a4 - (a2.right - a8.pageX)) / a4; if (a3 >= 0 && a3 <= 1){a7 = a3 * this.scrollSpeed * - 1} else{if (a5 >= 0 && a5 <= 1){a7 = a5 * this.scrollSpeed}}if (a9 >= 0 && a9 <= 1){a6 = a9 * this.scrollSpeed * - 1} else{if (ba >= 0 && ba <= 1){a6 = ba * this.scrollSpeed}}}this.setScrollVel(a7, a6)}, setScrollVel:function(a3, a2){this.scrollTopVel = a3; this.scrollLeftVel = a2; this.constrainScrollVel(); if ((this.scrollTopVel || this.scrollLeftVel) && !this.scrollIntervalId){this.scrollIntervalId = setInterval(aF.proxy(this, "scrollIntervalFunc"), this.scrollIntervalMs)}}, constrainScrollVel:function(){var a2 = this.scrollEl; if (this.scrollTopVel < 0){if (a2.scrollTop() <= 0){this.scrollTopVel = 0}} else{if (this.scrollTopVel > 0){if (a2.scrollTop() + a2[0].clientHeight >= a2[0].scrollHeight){this.scrollTopVel = 0}}}if (this.scrollLeftVel < 0){if (a2.scrollLeft() <= 0){this.scrollLeftVel = 0}} else{if (this.scrollLeftVel > 0){if (a2.scrollLeft() + a2[0].clientWidth >= a2[0].scrollWidth){this.scrollLeftVel = 0}}}}, scrollIntervalFunc:function(){var a3 = this.scrollEl; var a2 = this.scrollIntervalMs / 1000; if (this.scrollTopVel){a3.scrollTop(a3.scrollTop() + this.scrollTopVel * a2)}if (this.scrollLeftVel){a3.scrollLeft(a3.scrollLeft() + this.scrollLeftVel * a2)}this.constrainScrollVel(); if (!this.scrollTopVel && !this.scrollLeftVel){this.stopScrolling()}}, stopScrolling:function(){if (this.scrollIntervalId){clearInterval(this.scrollIntervalId); this.scrollIntervalId = null; this.computeCoords()}}, scrollHandler:function(){if (!this.scrollIntervalId){this.computeCoords()}}}; function G(a3, a2){if (!a3 && !a2){return true}if (a3 && a2){return a3.grid === a2.grid && a3.row === a2.row && a3.col === a2.col}return false}function A(a2, a3){this.options = a3 = a3 || {}; this.sourceEl = a2; this.parentEl = a3.parentEl?aF(a3.parentEl):a2.parent()}A.prototype = {options:null, sourceEl:null, el:null, parentEl:null, top0:null, left0:null, mouseY0:null, mouseX0:null, topDelta:null, leftDelta:null, mousemoveProxy:null, isFollowing:false, isHidden:false, isAnimating:false, start:function(a2){if (!this.isFollowing){this.isFollowing = true; this.mouseY0 = a2.pageY; this.mouseX0 = a2.pageX; this.topDelta = 0; this.leftDelta = 0; if (!this.isHidden){this.updatePosition()}aF(document).on("mousemove", this.mousemoveProxy = aF.proxy(this, "mousemove"))}}, stop:function(a3, a6){var a5 = this; var a4 = this.options.revertDuration; function a2(){this.isAnimating = false; a5.destroyEl(); this.top0 = this.left0 = null; if (a6){a6()}}if (this.isFollowing && !this.isAnimating){this.isFollowing = false; aF(document).off("mousemove", this.mousemoveProxy); if (a3 && a4 && !this.isHidden){this.isAnimating = true; this.el.animate({top:this.top0, left:this.left0}, {duration:a4, complete:a2})} else{a2()}}}, getEl:function(){var a2 = this.el; if (!a2){this.sourceEl.width(); a2 = this.el = this.sourceEl.clone().css({position:"absolute", visibility:"", display:this.isHidden?"none":"", margin:0, right:"auto", bottom:"auto", width:this.sourceEl.width(), height:this.sourceEl.height(), opacity:this.options.opacity || "", zIndex:this.options.zIndex}).appendTo(this.parentEl)}return a2}, destroyEl:function(){if (this.el){this.el.remove(); this.el = null}}, updatePosition:function(){var a3; var a2; this.getEl(); if (this.top0 === null){this.sourceEl.width(); a3 = this.sourceEl.offset(); a2 = this.el.offsetParent().offset(); this.top0 = a3.top - a2.top; this.left0 = a3.left - a2.left}this.el.css({top:this.top0 + this.topDelta, left:this.left0 + this.leftDelta})}, mousemove:function(a2){this.topDelta = a2.pageY - this.mouseY0; this.leftDelta = a2.pageX - this.mouseX0; if (!this.isHidden){this.updatePosition()}}, hide:function(){if (!this.isHidden){this.isHidden = true; if (this.el){this.el.hide()}}}, show:function(){if (this.isHidden){this.isHidden = false; this.updatePosition(); this.getEl().show()}}}; function U(a2){this.view = a2}U.prototype = {view:null, cellHtml:"<td/>", rowHtml:function(a6, a7){var a3 = this.view; var a2 = this.getHtmlRenderer("cell", a6); var a8 = ""; var a5; var a4; a7 = a7 || 0; for (a5 = 0; a5 < a3.colCnt; a5++){a4 = a3.cellToDate(a7, a5); a8 += a2(a7, a5, a4)}a8 = this.bookendCells(a8, a6, a7); return"<tr>" + a8 + "</tr>"}, bookendCells:function(a8, a3, ba){var a6 = this.view; var a7 = this.getHtmlRenderer("intro", a3)(ba || 0); var a4 = this.getHtmlRenderer("outro", a3)(ba || 0); var a2 = a6.opt("isRTL"); var a5 = a2?a4:a7; var a9 = a2?a7:a4; if (typeof a8 === "string"){return a5 + a8 + a9} else{return a8.prepend(a5).append(a9)}}, getHtmlRenderer:function(a3, a4){var a2 = this.view; var a8; var a5; var a7; var a6; a8 = a3 + "Html"; if (a4){a5 = a4 + aM(a3) + "Html"}if (a5 && (a6 = a2[a5])){a7 = a2} else{if (a5 && (a6 = this[a5])){a7 = this} else{if ((a6 = a2[a8])){a7 = a2} else{if ((a6 = this[a8])){a7 = this}}}}if (typeof a6 === "function"){return function(){return a6.apply(a7, arguments) || ""}}return function(){return a6 || ""}}}; function av(a2){U.call(this, a2); this.coordMap = new ad(this); this.elsByFill = {}}av.prototype = P(U.prototype); aF.extend(av.prototype, {el:null, coordMap:null, cellDuration:null, elsByFill:null, render:function(){this.bindHandlers()}, destroy:function(){}, buildCoords:function(a2, a3){}, getCellDate:function(a2){}, getCellDayEl:function(a2){}, rangeToSegs:function(a3, a2){}, bindHandlers:function(){var a2 = this; this.el.on("mousedown", function(a3){if (!aF(a3.target).is(".fc-event-container *, .fc-more") && !aF(a3.target).closest(".fc-popover").length){a2.dayMousedown(a3)}}); this.bindSegHandlers()}, dayMousedown:function(ba){var a8 = this; var bb = this.view; var a6 = bb.calendar; var a7 = bb.opt("selectable"); var a3 = null; var a4; var a5; var a9; var a2 = new aL(this.coordMap, {scroll:bb.opt("dragScroll"), dragStart:function(){bb.unselect()}, cellOver:function(bc, bd){if (a2.origDate){a9 = a8.getCellDayEl(bc); a3 = [bd, a2.origDate].sort(af); a4 = a3[0]; a5 = a3[1].clone().add(a8.cellDuration); if (a7){if (a6.isSelectionAllowedInRange(a4, a5)){a8.renderSelection(a4, a5)} else{a3 = null; an()}}}}, cellOut:function(bc, bd){a3 = null; a8.destroySelection(); y()}, listenStop:function(bc){if (a3){if (a3[0].isSame(a3[1])){bb.trigger("dayClick", a9[0], a4, bc)}if (a7){bb.reportSelection(a4, a5, bc)}}y()}}); a2.mousedown(ba)}, renderDrag:function(a4, a3, a2){}, destroyDrag:function(){}, renderResize:function(a4, a3, a2){}, destroyResize:function(){}, renderRangeHelper:function(a6, a3, a4){var a2 = this.view; var a5; if (!a3 && a2.opt("forceEventDuration")){a3 = a2.calendar.getDefaultEventEnd(!a6.hasTime(), a6)}a5 = a4?P(a4.event):{}; a5.start = a6; a5.end = a3; a5.allDay = !(a6.hasTime() || (a3 && a3.hasTime())); a5.className = (a5.className || []).concat("fc-helper"); if (!a4){a5.editable = false}this.renderHelper(a5, a4)}, renderHelper:function(a3, a2){}, destroyHelper:function(){}, renderSelection:function(a3, a2){this.renderHighlight(a3, a2)}, destroySelection:function(){this.destroyHighlight()}, renderHighlight:function(a3, a2){this.renderFill("highlight", this.rangeToSegs(a3, a2))}, destroyHighlight:function(){this.destroyFill("highlight")}, highlightSegClasses:function(){return["fc-highlight"]}, renderFill:function(a3, a2){}, destroyFill:function(a3){var a2 = this.elsByFill[a3]; if (a2){a2.remove(); delete this.elsByFill[a3]}}, renderFillSegEls:function(a7, a3){var a8 = this; var a2 = this[a7 + "SegEl"]; var a6 = ""; var a5 = []; var a4; if (a3.length){for (a4 = 0; a4 < a3.length; a4++){a6 += this.fillSegHtml(a7, a3[a4])}aF(a6).each(function(ba, bc){var a9 = a3[ba]; var bb = aF(bc); if (a2){bb = a2.call(a8, a9, bb)}if (bb){bb = aF(bb); if (bb.is(a8.fillSegTag)){a9.el = bb; a5.push(a9)}}})}return a5}, fillSegTag:"div", fillSegHtml:function(a5, a2){var a7 = this[a5 + "SegClasses"]; var a3 = this[a5 + "SegStyles"]; var a4 = a7?a7.call(this, a2):[]; var a6 = a3?a3.call(this, a2):""; return"<" + this.fillSegTag + (a4.length?' class="' + a4.join(" ") + '"':"") + (a6?' style="' + a6 + '"':"") + " />"}, headHtml:function(){return'<div class="fc-row ' + this.view.widgetHeaderClass + '"><table><thead>' + this.rowHtml("head") + "</thead></table></div>"}, headCellHtml:function(a7, a4, a3){var a2 = this.view; var a6 = a2.calendar; var a5 = a2.opt("columnFormat"); return'<th class="fc-day-header ' + a2.widgetHeaderClass + " fc-" + W[a3.day()] + '">' + aX(a6.formatDate(a3, a5)) + "</th>"}, bgCellHtml:function(a6, a4, a3){var a2 = this.view; var a5 = this.getDayClasses(a3); a5.unshift("fc-day", a2.widgetContentClass); return'<td class="' + a5.join(" ") + '" data-date="' + a3.format() + '"></td>'}, getDayClasses:function(a4){var a2 = this.view; var a3 = a2.calendar.getNow().stripTime(); var a5 = ["fc-" + W[a4.day()]]; if (a2.name === "month" && a4.month() != a2.intervalStart.month()){a5.push("fc-other-month")}if (a4.isSame(a3, "day")){a5.push("fc-today", a2.highlightStateClass)} else{if (a4 < a3){a5.push("fc-past")} else{a5.push("fc-future")}}return a5}}); aF.extend(av.prototype, {mousedOverSeg:null, isDraggingSeg:false, isResizingSeg:false, segs:null, renderEvents:function(a6){var a3 = this.eventsToSegs(a6); var a4 = []; var a7 = []; var a5, a2; for (a5 = 0; a5 < a3.length; a5++){a2 = a3[a5]; if (am(a2.event)){a4.push(a2)} else{a7.push(a2)}}a4 = this.renderBgSegs(a4) || a4; a7 = this.renderFgSegs(a7) || a7; this.segs = a4.concat(a7)}, destroyEvents:function(){this.triggerSegMouseout(); this.destroyFgSegs(); this.destroyBgSegs(); this.segs = null}, getSegs:function(){return this.segs || []}, renderFgSegs:function(a2){}, destroyFgSegs:function(){}, renderFgSegEls:function(a4, a3){var a2 = this.view; var a7 = ""; var a6 = []; var a5; if (a4.length){for (a5 = 0; a5 < a4.length; a5++){a7 += this.fgSegHtml(a4[a5], a3)}aF(a7).each(function(a9, bb){var a8 = a4[a9]; var ba = a2.resolveEventEl(a8.event, aF(bb)); if (ba){ba.data("fc-seg", a8); a8.el = ba; a6.push(a8)}})}return a6}, fgSegHtml:function(a3, a2){}, renderBgSegs:function(a2){return this.renderFill("bgEvent", a2)}, destroyBgSegs:function(){this.destroyFill("bgEvent")}, bgEventSegEl:function(a2, a3){return this.view.resolveEventEl(a2.event, a3)}, bgEventSegClasses:function(a2){var a3 = a2.event; var a4 = a3.source || {}; return["fc-bgevent"].concat(a3.className, a4.className || [])}, bgEventSegStyles:function(a3){var a2 = this.view; var a7 = a3.event; var a8 = a7.source || {}; var a5 = a7.color; var a9 = a8.color; var a6 = a2.opt("eventColor"); var a4 = a7.backgroundColor || a5 || a8.backgroundColor || a9 || a2.opt("eventBackgroundColor") || a6; if (a4){return"background-color:" + a4}return""}, businessHoursSegClasses:function(a2){return["fc-nonbusiness", "fc-bgevent"]}, bindSegHandlers:function(){var a3 = this; var a2 = this.view; aF.each({mouseenter:function(a4, a5){a3.triggerSegMouseover(a4, a5)}, mouseleave:function(a4, a5){a3.triggerSegMouseout(a4, a5)}, click:function(a4, a5){return a2.trigger("eventClick", this, a4.event, a5)}, mousedown:function(a4, a5){if (aF(a5.target).is(".fc-resizer") && a2.isEventResizable(a4.event)){a3.segResizeMousedown(a4, a5)} else{if (a2.isEventDraggable(a4.event)){a3.segDragMousedown(a4, a5)}}}}, function(a4, a5){a3.el.on(a4, ".fc-event-container > *", function(a7){var a6 = aF(this).data("fc-seg"); if (a6 && !a3.isDraggingSeg && !a3.isResizingSeg){return a5.call(this, a6, a7)}})})}, triggerSegMouseover:function(a2, a3){if (!this.mousedOverSeg){this.mousedOverSeg = a2; this.view.trigger("eventMouseover", a2.el[0], a2.event, a3)}}, triggerSegMouseout:function(a2, a3){a3 = a3 || {}; if (this.mousedOverSeg){a2 = a2 || this.mousedOverSeg; this.mousedOverSeg = null; this.view.trigger("eventMouseout", a2.el[0], a2.event, a3)}}, segDragMousedown:function(a7, bb){var ba = this; var bc = this.view; var a8 = bc.calendar; var a5 = a7.el; var a4 = a7.event; var a9, a6; var a3 = new A(a7.el, {parentEl:bc.el, opacity:bc.opt("dragOpacity"), revertDuration:bc.opt("dragRevertDuration"), zIndex:2}); var a2 = new aL(bc.coordMap, {distance:5, scroll:bc.opt("dragScroll"), listenStart:function(bd){a3.hide(); a3.start(bd)}, dragStart:function(bd){ba.triggerSegMouseout(a7, bd); ba.isDraggingSeg = true; bc.hideEvent(a4); bc.trigger("eventDragStart", a5[0], a4, bd, {})}, cellOver:function(bd, bf){var be = a7.cellDate || a2.origDate; var bg = ba.computeDraggedEventDates(a7, be, bf); a9 = bg.start; a6 = bg.end; if (a8.isEventAllowedInRange(a4, a9, bg.visibleEnd)){if (bc.renderDrag(a9, a6, a7)){a3.hide()} else{a3.show()}} else{a9 = null; a3.show(); an()}}, cellOut:function(){a9 = null; bc.destroyDrag(); a3.show(); y()}, dragStop:function(be){var bd = a9 && !a9.isSame(a4.start); a3.stop(!bd, function(){ba.isDraggingSeg = false; bc.destroyDrag(); bc.showEvent(a4); bc.trigger("eventDragStop", a5[0], a4, be, {}); if (bd){bc.eventDrop(a5[0], a4, a9, be)}}); y()}, listenStop:function(){a3.stop()}}); a2.mousedown(bb)}, computeDraggedEventDates:function(a8, a6, bb){var ba = this.view; var a2 = a8.event; var a4 = a2.start; var a7 = ba.calendar.getEventEnd(a2); var bd; var a9; var a5; var a3; var bc; if (bb.hasTime() === a6.hasTime()){bd = aE(bb, a6); a9 = a4.clone().add(bd); if (a2.end === null){a5 = null} else{a5 = a7.clone().add(bd)}a3 = a2.allDay} else{a9 = bb; a5 = null; a3 = !bb.hasTime()}bc = a5 || ba.calendar.getDefaultEventEnd(a3, a9); return{start:a9, end:a5, visibleEnd:bc}}, segResizeMousedown:function(a8, bb){var ba = this; var bc = this.view; var a9 = bc.calendar; var a5 = a8.el; var a3 = a8.event; var a4 = a3.start; var a7 = bc.calendar.getEventEnd(a3); var a6 = null; var a2; function bd(){ba.destroyResize(); bc.showEvent(a3)}a2 = new aL(this.coordMap, {distance:5, scroll:bc.opt("dragScroll"), dragStart:function(be){ba.triggerSegMouseout(a8, be); ba.isResizingSeg = true; bc.trigger("eventResizeStart", a5[0], a3, be, {})}, cellOver:function(be, bf){if (bf.isBefore(a4)){bf = a4}a6 = bf.clone().add(ba.cellDuration); if (a9.isEventAllowedInRange(a3, a4, a6)){if (a6.isSame(a7)){a6 = null; bd()} else{ba.renderResize(a4, a6, a8); bc.hideEvent(a3)}} else{a6 = null; bd(); an()}}, cellOut:function(){a6 = null; bd(); y()}, dragStop:function(be){ba.isResizingSeg = false; bd(); y(); bc.trigger("eventResizeStop", a5[0], a3, be, {}); if (a6){bc.eventResize(a5[0], a3, a6, be)}}}); a2.mousedown(bb)}, getSegClasses:function(a2, a4, a6){var a5 = a2.event; var a3 = ["fc-event", a2.isStart?"fc-start":"fc-not-start", a2.isEnd?"fc-end":"fc-not-end"].concat(a5.className, a5.source?a5.source.className:[]); if (a4){a3.push("fc-draggable")}if (a6){a3.push("fc-resizable")}return a3}, getEventSkinCss:function(a3){var a8 = this.view; var a2 = a3.source || {}; var a9 = a3.color; var a6 = a2.color; var a5 = a8.opt("eventColor"); var ba = a3.backgroundColor || a9 || a2.backgroundColor || a6 || a8.opt("eventBackgroundColor") || a5; var a4 = a3.borderColor || a9 || a2.borderColor || a6 || a8.opt("eventBorderColor") || a5; var bb = a3.textColor || a2.textColor || a8.opt("eventTextColor"); var a7 = []; if (ba){a7.push("background-color:" + ba)}if (a4){a7.push("border-color:" + a4)}if (bb){a7.push("color:" + bb)}return a7.join(";")}, eventsToSegs:function(a6, a4){var a3 = this.eventsToRanges(a6); var a2 = []; var a5; for (a5 = 0; a5 < a3.length; a5++){a2.push.apply(a2, this.eventRangeToSegs(a3[a5], a4))}return a2}, eventsToRanges:function(a3){var a5 = this; var a4 = ay(a3); var a2 = []; aF.each(a4, function(a7, a6){if (a6.length){a2.push.apply(a2, b(a6[0])?a5.eventsToInverseRanges(a6):a5.eventsToNormalRanges(a6))}}); return a2}, eventsToNormalRanges:function(a6){var a8 = this.view.calendar; var a4 = []; var a5, a7; var a3, a2; for (a5 = 0; a5 < a6.length; a5++){a7 = a6[a5]; a3 = a7.start.clone().stripZone(); a2 = a8.getEventEnd(a7).stripZone(); a4.push({event:a7, start:a3, end:a2, eventStartMS: + a3, eventDurationMS:a2 - a3})}return a4}, eventsToInverseRanges:function(bb){var a7 = this.view; var a6 = a7.start.clone().stripZone(); var ba = a7.end.clone().stripZone(); var a8 = this.eventsToNormalRanges(bb); var a3 = []; var a9 = bb[0]; var a2 = a6; var a4, a5; a8.sort(aI); for (a4 = 0; a4 < a8.length; a4++){a5 = a8[a4]; if (a5.start > a2){a3.push({event:a9, start:a2, end:a5.start})}a2 = a5.end}if (a2 < ba){a3.push({event:a9, start:a2, end:ba})}return a3}, eventRangeToSegs:function(a6, a4){var a3; var a5, a2; if (a4){a3 = a4(a6.start, a6.end)} else{a3 = this.rangeToSegs(a6.start, a6.end)}for (a5 = 0; a5 < a3.length; a5++){a2 = a3[a5]; a2.event = a6.event; a2.eventStartMS = a6.eventStartMS; a2.eventDurationMS = a6.eventDurationMS}return a3}}); function am(a3){var a2 = aj(a3); return a2 === "background" || a2 === "inverse-background"}function b(a2){return aj(a2) === "inverse-background"}function aj(a2){return aZ((a2.source || {}).rendering, a2.rendering)}function ay(a3){var a4 = {}; var a2, a5; for (a2 = 0; a2 < a3.length; a2++){a5 = a3[a2]; (a4[a5._id] || (a4[a5._id] = [])).push(a5)}return a4}function aI(a3, a2){return a3.eventStartMS - a2.eventStartMS}function w(a3, a2){return a3.eventStartMS - a2.eventStartMS || a2.eventDurationMS - a3.eventDurationMS || a2.event.allDay - a3.event.allDay || (a3.event.title || "").localeCompare(a2.event.title)}function aN(a2){av.call(this, a2)}aN.prototype = P(av.prototype); aF.extend(aN.prototype, {numbersVisible:false, cellDuration:x.duration({days:1}), bottomCoordPadding:0, rowEls:null, dayEls:null, helperEls:null, render:function(a3){var a2 = this.view; var a4 = ""; var a5; for (a5 = 0; a5 < a2.rowCnt; a5++){a4 += this.dayRowHtml(a5, a3)}this.el.html(a4); this.rowEls = this.el.find(".fc-row"); this.dayEls = this.el.find(".fc-day"); this.dayEls.each(function(a7, a8){var a6 = a2.cellToDate(Math.floor(a7 / a2.colCnt), a7 % a2.colCnt); a2.trigger("dayRender", null, a6, aF(a8))}); av.prototype.render.call(this)}, destroy:function(){this.destroySegPopover()}, dayRowHtml:function(a5, a3){var a2 = this.view; var a4 = ["fc-row", "fc-week", a2.widgetContentClass]; if (a3){a4.push("fc-rigid")}return'<div class="' + a4.join(" ") + '"><div class="fc-bg"><table>' + this.rowHtml("day", a5) + '</table></div><div class="fc-content-skeleton"><table>' + (this.numbersVisible?"<thead>" + this.rowHtml("number", a5) + "</thead>":"") + "</table></div></div>"}, dayCellHtml:function(a4, a3, a2){return this.bgCellHtml(a4, a3, a2)}, buildCoords:function(a3, a6){var a2 = this.view.colCnt; var a5, a7, a4; this.dayEls.slice(0, a2).each(function(a9, a8){a5 = aF(a8); a7 = a5.offset().left; if (a9){a4[1] = a7}a4 = [a7]; a6[a9] = a4}); a4[1] = a7 + a5.outerWidth(); this.rowEls.each(function(a9, a8){a5 = aF(a8); a7 = a5.offset().top; if (a9){a4[1] = a7}a4 = [a7]; a3[a9] = a4}); a4[1] = a7 + a5.outerHeight() + this.bottomCoordPadding}, getCellDate:function(a2){return this.view.cellToDate(a2)}, getCellDayEl:function(a2){return this.dayEls.eq(a2.row * this.view.colCnt + a2.col)}, rangeToSegs:function(a3, a2){return this.view.rangeToSegments(a3, a2)}, renderDrag:function(a5, a3, a2){var a4; this.renderHighlight(a5, a3 || this.view.calendar.getDefaultEventEnd(true, a5)); if (a2 && !a2.el.closest(this.el).length){this.renderRangeHelper(a5, a3, a2); a4 = this.view.opt("dragOpacity"); if (a4 !== undefined){this.helperEls.css("opacity", a4)}return true}}, destroyDrag:function(){this.destroyHighlight(); this.destroyHelper()}, renderResize:function(a4, a3, a2){this.renderHighlight(a4, a3); this.renderRangeHelper(a4, a3, a2)}, destroyResize:function(){this.destroyHighlight(); this.destroyHelper()}, renderHelper:function(a6, a4){var a2 = []; var a3 = this.eventsToSegs([a6]); var a5; a3 = this.renderFgSegEls(a3); a5 = this.renderSegRows(a3); this.rowEls.each(function(bb, a9){var a8 = aF(a9); var ba = aF('<div class="fc-helper-skeleton"><table/></div>'); var a7; if (a4 && a4.row === bb){a7 = a4.el.position().top} else{a7 = a8.find(".fc-content-skeleton tbody").position().top}ba.css("top", a7).find("table").append(a5[bb].tbodyEl); a8.append(ba); a2.push(ba[0])}); this.helperEls = aF(a2)}, destroyHelper:function(){if (this.helperEls){this.helperEls.remove(); this.helperEls = null}}, fillSegTag:"td", renderFill:function(a6, a3){var a4 = []; var a5, a2; var a7; a3 = this.renderFillSegEls(a6, a3); for (a5 = 0; a5 < a3.length; a5++){a2 = a3[a5]; a7 = this.renderFillRow(a6, a2); this.rowEls.eq(a2.row).append(a7); a4.push(a7[0])}this.elsByFill[a6] = aF(a4); return a3}, renderFillRow:function(a4, a2){var a3 = this.view.colCnt; var a7 = a2.leftCol; var a6 = a2.rightCol + 1; var a8; var a5; a8 = aF('<div class="fc-' + a4.toLowerCase() + '-skeleton"><table><tr/></table></div>'); a5 = a8.find("tr"); if (a7 > 0){a5.append('<td colspan="' + a7 + '"/>')}a5.append(a2.el.attr("colspan", a6 - a7)); if (a6 < a3){a5.append('<td colspan="' + (a3 - a6) + '"/>')}this.bookendCells(a5, a4); return a8}}); aF.extend(aN.prototype, {rowStructs:null, destroyEvents:function(){this.destroySegPopover(); av.prototype.destroyEvents.apply(this, arguments)}, getSegs:function(){return av.prototype.getSegs.call(this).concat(this.popoverSegs || [])}, renderBgSegs:function(a2){var a3 = aF.grep(a2, function(a4){return a4.event.allDay}); return av.prototype.renderBgSegs.call(this, a3)}, renderFgSegs:function(a2){var a3; a2 = this.renderFgSegEls(a2); a3 = this.rowStructs = this.renderSegRows(a2); this.rowEls.each(function(a4, a5){aF(a5).find(".fc-content-skeleton > table").append(a3[a4].tbodyEl)}); return a2}, destroyFgSegs:function(){var a3 = this.rowStructs || []; var a2; while ((a2 = a3.pop())){a2.tbodyEl.remove()}this.rowStructs = null}, renderSegRows:function(a3){var a4 = []; var a2; var a5; a2 = this.groupSegRows(a3); for (a5 = 0; a5 < a2.length; a5++){a4.push(this.renderSegRow(a5, a2[a5]))}return a4}, fgSegHtml:function(a8, a4){var bb = this.view; var a6 = bb.opt("isRTL"); var a3 = a8.event; var a2 = bb.isEventDraggable(a3); var a5 = !a4 && a3.allDay && a8.isEnd && bb.isEventResizable(a3); var a7 = this.getSegClasses(a8, a2, a5); var bc = this.getEventSkinCss(a3); var ba = ""; var a9; a7.unshift("fc-day-grid-event"); if (!a3.allDay && a8.isStart){ba = '<span class="fc-time">' + aX(bb.getEventTimeText(a3)) + "</span>"}a9 = '<span class="fc-title">' + (aX(a3.title || "") || "&nbsp;") + "</span>"; return'<a class="' + a7.join(" ") + '"' + (a3.url?' href="' + aX(a3.url) + '"':"") + (bc?' style="' + bc + '"':"") + '><div class="fc-content">' + (a6?a9 + " " + ba:ba + " " + a9) + "</div>" + (a5?'<div class="fc-resizer"/>':"") + "</a>"}, renderSegRow:function(a9, a2){var be = this.view; var bf = be.colCnt; var bj = this.buildSegLevels(a2); var ba = Math.max(1, bj.length); var a3 = aF("<tbody/>"); var a8 = []; var a6 = []; var bc = []; var bh, a5; var a7; var a4; var bg, bi; var bb; function bd(bk){while (a7 < bk){bb = (bc[bh - 1] || [])[a7]; if (bb){bb.attr("rowspan", parseInt(bb.attr("rowspan") || 1, 10) + 1)} else{bb = aF("<td/>"); a4.append(bb)}a6[bh][a7] = bb; bc[bh][a7] = bb; a7++}}for (bh = 0; bh < ba; bh++){a5 = bj[bh]; a7 = 0; a4 = aF("<tr/>"); a8.push([]); a6.push([]); bc.push([]); if (a5){for (bg = 0; bg < a5.length; bg++){bi = a5[bg]; bd(bi.leftCol); bb = aF('<td class="fc-event-container"/>').append(bi.el); if (bi.leftCol != bi.rightCol){bb.attr("colspan", bi.rightCol - bi.leftCol + 1)} else{bc[bh][a7] = bb}while (a7 <= bi.rightCol){a6[bh][a7] = bb; a8[bh][a7] = bi; a7++}a4.append(bb)}}bd(bf); this.bookendCells(a4, "eventSkeleton"); a3.append(a4)}return{row:a9, tbodyEl:a3, cellMatrix:a6, segMatrix:a8, segLevels:bj, segs:a2}}, buildSegLevels:function(a3){var a6 = []; var a5, a2; var a4; a3.sort(w); for (a5 = 0; a5 < a3.length; a5++){a2 = a3[a5]; for (a4 = 0; a4 < a6.length; a4++){if (!z(a2, a6[a4])){break}}a2.level = a4; (a6[a4] || (a6[a4] = [])).push(a2)}for (a4 = 0; a4 < a6.length; a4++){a6[a4].sort(au)}return a6}, groupSegRows:function(a4){var a3 = this.view; var a2 = []; var a5; for (a5 = 0; a5 < a3.rowCnt; a5++){a2.push([])}for (a5 = 0; a5 < a4.length; a5++){a2[a4[a5].row].push(a4[a5])}return a2}}); function z(a2, a5){var a3, a4; for (a3 = 0; a3 < a5.length; a3++){a4 = a5[a3]; if (a4.leftCol <= a2.rightCol && a4.rightCol >= a2.leftCol){return true}}return false}function au(a3, a2){return a3.leftCol - a2.leftCol}aF.extend(aN.prototype, {segPopover:null, popoverSegs:null, destroySegPopover:function(){if (this.segPopover){this.segPopover.hide()}}, limitRows:function(a4){var a2 = this.rowStructs || []; var a5; var a3; for (a5 = 0; a5 < a2.length; a5++){this.unlimitRow(a5); if (!a4){a3 = false} else{if (typeof a4 === "number"){a3 = a4} else{a3 = this.computeRowLevelLimit(a5)}}if (a3 !== false){this.limitRow(a5, a3)}}}, computeRowLevelLimit:function(a7){var a3 = this.rowEls.eq(a7); var a6 = a3.height(); var a2 = this.rowStructs[a7].tbodyEl.children(); var a4, a5; for (a4 = 0; a4 < a2.length; a4++){a5 = a2.eq(a4).removeClass("fc-limited"); if (a5.position().top + a5.outerHeight() > a6){return a4}}return false}, limitRow:function(bb, bf){var bi = this; var bg = this.view; var a5 = this.rowStructs[bb]; var ba = []; var a9 = 0; var a2; var a3; var a8; var bn; var bl, bm; var bp; var bc; var a4; var bd, bo; var a7; var bj; var a6, bk, bh; function be(bq){while (a9 < bq){a2 = {row:bb, col:a9}; bp = bi.getCellSegs(a2, bf); if (bp.length){bd = a8[bf - 1][a9]; bh = bi.renderMoreLink(a2, bp); bk = aF("<div/>").append(bh); bd.append(bk); ba.push(bk[0])}a9++}}if (bf && bf < a5.segLevels.length){a3 = a5.segLevels[bf - 1]; a8 = a5.cellMatrix; bn = a5.tbodyEl.children().slice(bf).addClass("fc-limited").get(); for (bl = 0; bl < a3.length; bl++){bm = a3[bl]; be(bm.leftCol); a4 = []; bc = 0; while (a9 <= bm.rightCol){a2 = {row:bb, col:a9}; bp = this.getCellSegs(a2, bf); a4.push(bp); bc += bp.length; a9++}if (bc){bd = a8[bf - 1][bm.leftCol]; bo = bd.attr("rowspan") || 1; a7 = []; for (bj = 0; bj < a4.length; bj++){a6 = aF('<td class="fc-more-cell"/>').attr("rowspan", bo); bp = a4[bj]; a2 = {row:bb, col:bm.leftCol + bj}; bh = this.renderMoreLink(a2, [bm].concat(bp)); bk = aF("<div/>").append(bh); a6.append(bk); a7.push(a6[0]); ba.push(a6[0])}bd.addClass("fc-limited").after(aF(a7)); bn.push(bd[0])}}be(bg.colCnt); a5.moreEls = aF(ba); a5.limitedEls = aF(bn)}}, unlimitRow:function(a3){var a2 = this.rowStructs[a3]; if (a2.moreEls){a2.moreEls.remove(); a2.moreEls = null}if (a2.limitedEls){a2.limitedEls.removeClass("fc-limited"); a2.limitedEls = null}}, renderMoreLink:function(a2, a4){var a5 = this; var a3 = this.view; return aF('<a class="fc-more"/>').text(this.getMoreLinkText(a4.length)).on("click", function(ba){var bd = a3.opt("eventLimitClick"); var a7 = a3.cellToDate(a2); var bb = aF(this); var bc = a5.getCellDayEl(a2); var a6 = a5.getCellSegs(a2); var a8 = a5.resliceDaySegs(a6, a7); var a9 = a5.resliceDaySegs(a4, a7); if (typeof bd === "function"){bd = a3.trigger("eventLimitClick", null, {date:a7, dayEl:bc, moreEl:bb, segs:a8, hiddenSegs:a9}, ba)}if (bd === "popover"){a5.showSegPopover(a7, a2, bb, a8)} else{if (typeof bd === "string"){a3.calendar.zoomTo(a7, bd)}}})}, showSegPopover:function(a4, a9, a8, a2){var a5 = this; var a7 = this.view; var a3 = a8.parent(); var a6; var ba; if (a7.rowCnt == 1){a6 = this.view.el} else{a6 = this.rowEls.eq(a9.row)}ba = {className:"fc-more-popover", content:this.renderSegPopoverContent(a4, a2), parentEl:this.el, top:a6.offset().top, autoHide:true, viewportConstrain:a7.opt("popoverViewportConstrain"), hide:function(){a5.segPopover.destroy(); a5.segPopover = null; a5.popoverSegs = null}}; if (a7.opt("isRTL")){ba.right = a3.offset().left + a3.outerWidth() + 1} else{ba.left = a3.offset().left - 1}this.segPopover = new k(ba); this.segPopover.show()}, renderSegPopoverContent:function(a4, a3){var a2 = this.view; var a9 = a2.opt("theme"); var a8 = a4.format(a2.opt("dayPopoverFormat")); var a7 = aF('<div class="fc-header ' + a2.widgetHeaderClass + '"><span class="fc-close ' + (a9?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x") + '"></span><span class="fc-title">' + aX(a8) + '</span><div class="fc-clear"/></div><div class="fc-body ' + a2.widgetContentClass + '"><div class="fc-event-container"></div></div>'); var a6 = a7.find(".fc-event-container"); var a5; a3 = this.renderFgSegEls(a3, true); this.popoverSegs = a3; for (a5 = 0; a5 < a3.length; a5++){a3[a5].cellDate = a4; a6.append(a3[a5].el)}return a7}, resliceDaySegs:function(a4, a2){var a5 = aF.map(a4, function(a7){return a7.event}); var a3 = a2.clone().stripTime(); var a6 = a3.clone().add(1, "days"); return this.eventsToSegs(a5, function(a9, a8){var a7 = aC(a9, a8, a3, a6); return a7?[a7]:[]})}, getMoreLinkText:function(a3){var a2 = this.view; var a4 = a2.opt("eventLimitText"); if (typeof a4 === "function"){return a4(a3)} else{return"+" + a3 + " " + a4}}, getCellSegs:function(a2, a5){var a6 = this.rowStructs[a2.row].segMatrix; var a7 = a5 || 0; var a4 = []; var a3; while (a7 < a6.length){a3 = a6[a7][a2.col]; if (a3){a4.push(a3)}a7++}return a4}}); function h(a2){av.call(this, a2)}h.prototype = P(av.prototype); aF.extend(h.prototype, {slotDuration:null, snapDuration:null, minTime:null, maxTime:null, dayEls:null, slatEls:null, slatTops:null, helperEl:null, businessHourSegs:null, render:function(){this.processOptions(); this.el.html(this.renderHtml()); this.dayEls = this.el.find(".fc-day"); this.slatEls = this.el.find(".fc-slats tr"); this.computeSlatTops(); this.renderBusinessHours(); av.prototype.render.call(this)}, renderBusinessHours:function(){var a2 = this.view.calendar.getBusinessHoursEvents(); this.businessHourSegs = this.renderFill("businessHours", this.eventsToSegs(a2), "bgevent")}, renderHtml:function(){return'<div class="fc-bg"><table>' + this.rowHtml("slotBg") + '</table></div><div class="fc-slats"><table>' + this.slatRowHtml() + "</table></div>"}, slotBgCellHtml:function(a4, a3, a2){return this.bgCellHtml(a4, a3, a2)}, slatRowHtml:function(){var ba = this.view; var a4 = ba.calendar; var a2 = ba.opt("isRTL"); var a5 = ""; var a9 = this.slotDuration.asMinutes() % 15 === 0; var a6 = x.duration( + this.minTime); var a7; var a3; var a8; while (a6 < this.maxTime){a7 = ba.start.clone().time(a6); a3 = a7.minutes(); a8 = '<td class="fc-axis fc-time ' + ba.widgetContentClass + '" ' + ba.axisStyleAttr() + ">" + ((!a9 || !a3)?"<span>" + aX(a4.formatDate(a7, ba.opt("axisFormat"))) + "</span>":"") + "</td>"; a5 += "<tr " + (!a3?"":'class="fc-minor"') + ">" + (!a2?a8:"") + '<td class="' + ba.widgetContentClass + '"/>' + (a2?a8:"") + "</tr>"; a6.add(this.slotDuration)}return a5}, processOptions:function(){var a2 = this.view; var a4 = a2.opt("slotDuration"); var a3 = a2.opt("snapDuration"); a4 = x.duration(a4); a3 = a3?x.duration(a3):a4; this.slotDuration = a4; this.snapDuration = a3; this.cellDuration = a3; this.minTime = x.duration(a2.opt("minTime")); this.maxTime = x.duration(a2.opt("maxTime"))}, rangeToSegs:function(a9, a2){var a8 = this.view; var a3 = []; var a6; var a4; var a5; var a7, ba; a9 = a9.clone().stripZone(); a2 = a2.clone().stripZone(); for (a4 = 0; a4 < a8.colCnt; a4++){a5 = a8.cellToDate(0, a4); a7 = a5.clone().time(this.minTime); ba = a5.clone().time(this.maxTime); a6 = aC(a9, a2, a7, ba); if (a6){a6.col = a4; a3.push(a6)}}return a3}, resize:function(){this.computeSlatTops(); this.updateSegVerticals()}, buildCoords:function(a5, a8){var a3 = this.view.colCnt; var a4 = this.el.offset().top; var a2 = x.duration( + this.minTime); var a7 = null; var a6, a9; this.dayEls.slice(0, a3).each(function(bb, ba){a6 = aF(ba); a9 = a6.offset().left; if (a7){a7[1] = a9}a7 = [a9]; a8[bb] = a7}); a7[1] = a9 + a6.outerWidth(); a7 = null; while (a2 < this.maxTime){a9 = a4 + this.computeTimeTop(a2); if (a7){a7[1] = a9}a7 = [a9]; a5.push(a7); a2.add(this.snapDuration)}a7[1] = a4 + this.computeTimeTop(a2)}, getCellDate:function(a2){var a3 = this.view; var a4 = a3.calendar; return a4.rezoneDate(a3.cellToDate(0, a2.col).time(this.minTime + this.snapDuration * a2.row))}, getCellDayEl:function(a2){return this.dayEls.eq(a2.col)}, computeDateTop:function(a2, a3){return this.computeTimeTop(x.duration(a2.clone().stripZone() - a3.clone().stripTime()))}, computeTimeTop:function(a7){var a5 = (a7 - this.minTime) / this.slotDuration; var a4; var a3; var a6; var a2; a5 = Math.max(0, a5); a5 = Math.min(this.slatEls.length, a5); a4 = Math.floor(a5); a3 = a5 - a4; a6 = this.slatTops[a4]; if (a3){a2 = this.slatTops[a4 + 1]; return a6 + (a2 - a6) * a3} else{return a6}}, computeSlatTops:function(){var a3 = []; var a2; this.slatEls.each(function(a4, a5){a2 = aF(a5).position().top; a3.push(a2)}); a3.push(a2 + this.slatEls.last().outerHeight()); this.slatTops = a3}, renderDrag:function(a5, a3, a2){var a4; if (a2){this.renderRangeHelper(a5, a3, a2); a4 = this.view.opt("dragOpacity"); if (a4 !== undefined){this.helperEl.css("opacity", a4)}return true} else{this.renderHighlight(a5, a3 || this.view.calendar.getDefaultEventEnd(false, a5))}}, destroyDrag:function(){this.destroyHelper(); this.destroyHighlight()}, renderResize:function(a4, a3, a2){this.renderRangeHelper(a4, a3, a2)}, destroyResize:function(){this.destroyHelper()}, renderHelper:function(a8, a6){var a4 = this.eventsToSegs([a8]); var a3; var a7, a2; var a5; a4 = this.renderFgSegEls(a4); a3 = this.renderSegTable(a4); for (a7 = 0; a7 < a4.length; a7++){a2 = a4[a7]; if (a6 && a6.col === a2.col){a5 = a6.el; a2.el.css({left:a5.css("left"), right:a5.css("right"), "margin-left":a5.css("margin-left"), "margin-right":a5.css("margin-right")})}}this.helperEl = aF('<div class="fc-helper-skeleton"/>').append(a3).appendTo(this.el)}, destroyHelper:function(){if (this.helperEl){this.helperEl.remove(); this.helperEl = null}}, renderSelection:function(a3, a2){if (this.view.opt("selectHelper")){this.renderRangeHelper(a3, a2)} else{this.renderHighlight(a3, a2)}}, destroySelection:function(){this.destroyHelper(); this.destroyHighlight()}, renderFill:function(bb, a3, ba){var bc = this.view; var a7; var a4; var be; var a5, bf; var bd; var a9; var a2; var a8, a6; if (a3.length){a3 = this.renderFillSegEls(bb, a3); a7 = this.groupSegCols(a3); ba = ba || bb.toLowerCase(); a4 = aF('<div class="fc-' + ba + '-skeleton"><table><tr/></table></div>'); be = a4.find("tr"); for (a5 = 0; a5 < a7.length; a5++){bf = a7[a5]; bd = aF("<td/>").appendTo(be); if (bf.length){a9 = aF('<div class="fc-' + ba + '-container"/>').appendTo(bd); a2 = bc.cellToDate(0, a5); for (a8 = 0; a8 < bf.length; a8++){a6 = bf[a8]; a9.append(a6.el.css({top:this.computeDateTop(a6.start, a2), bottom: - this.computeDateTop(a6.end, a2)}))}}}this.bookendCells(be, bb); this.el.append(a4); this.elsByFill[bb] = a4}return a3}}); aF.extend(h.prototype, {eventSkeletonEl:null, renderFgSegs:function(a2){a2 = this.renderFgSegEls(a2); this.el.append(this.eventSkeletonEl = aF('<div class="fc-content-skeleton"/>').append(this.renderSegTable(a2))); return a2}, destroyFgSegs:function(a2){if (this.eventSkeletonEl){this.eventSkeletonEl.remove(); this.eventSkeletonEl = null}}, renderSegTable:function(a2){var a4 = aF("<table><tr/></table>"); var a9 = a4.find("tr"); var a5; var a7, a6; var a3, ba; var a8; a5 = this.groupSegCols(a2); this.computeSegVerticals(a2); for (a3 = 0; a3 < a5.length; a3++){ba = a5[a3]; aw(ba); a8 = aF('<div class="fc-event-container"/>'); for (a7 = 0; a7 < ba.length; a7++){a6 = ba[a7]; a6.el.css(this.generateSegPositionCss(a6)); if (a6.bottom - a6.top < 30){a6.el.addClass("fc-short")}a8.append(a6.el)}a9.append(aF("<td/>").append(a8))}this.bookendCells(a9, "eventSkeleton"); return a4}, updateSegVerticals:function(){var a2 = (this.segs || []).concat(this.businessHourSegs || []); var a3; this.computeSegVerticals(a2); for (a3 = 0; a3 < a2.length; a3++){a2[a3].el.css(this.generateSegVerticalCss(a2[a3]))}}, computeSegVerticals:function(a3){var a4, a2; for (a4 = 0; a4 < a3.length; a4++){a2 = a3[a4]; a2.top = this.computeDateTop(a2.start, a2.start); a2.bottom = this.computeDateTop(a2.end, a2.start)}}, fgSegHtml:function(a9, a4){var bb = this.view; var a3 = a9.event; var a2 = bb.isEventDraggable(a3); var a6 = !a4 && a9.isEnd && bb.isEventResizable(a3); var a8 = this.getSegClasses(a9, a2, a6); var bc = this.getEventSkinCss(a3); var a7; var ba; var a5; a8.unshift("fc-time-grid-event"); if (bb.isMultiDayEvent(a3)){if (a9.isStart || a9.isEnd){a7 = bb.getEventTimeText(a9.start, a9.end); ba = bb.getEventTimeText(a9.start, a9.end, "LT"); a5 = bb.getEventTimeText(a9.start, null)}} else{a7 = bb.getEventTimeText(a3); ba = bb.getEventTimeText(a3, "LT"); a5 = bb.getEventTimeText(a3.start, null)}return'<a class="' + a8.join(" ") + '"' + (a3.url?' href="' + aX(a3.url) + '"':"") + (bc?' style="' + bc + '"':"") + '><div class="fc-content">' + (a7?'<div class="fc-time" data-start="' + aX(a5) + '" data-full="' + aX(ba) + '"><span>' + aX(a7) + "</span></div>":"") + (a3.title?'<div class="fc-title">' + aX(a3.title) + "</div>":"") + '</div><div class="fc-bg"/>' + (a6?'<div class="fc-resizer"/>':"") + "</a>"}, generateSegPositionCss:function(a6){var a8 = this.view; var a3 = a8.opt("isRTL"); var a4 = a8.opt("slotEventOverlap"); var a2 = a6.backwardCoord; var ba = a6.forwardCoord; var a7 = this.generateSegVerticalCss(a6); var a5; var a9; if (a4){ba = Math.min(1, a2 + (ba - a2) * 2)}if (a3){a5 = 1 - ba; a9 = a2} else{a5 = a2; a9 = 1 - ba}a7.zIndex = a6.level + 1; a7.left = a5 * 100 + "%"; a7.right = a9 * 100 + "%"; if (a4 && a6.forwardPressure){a7[a3?"marginLeft":"marginRight"] = 10 * 2}return a7}, generateSegVerticalCss:function(a2){return{top:a2.top, bottom: - a2.bottom}}, groupSegCols:function(a4){var a3 = this.view; var a2 = []; var a5; for (a5 = 0; a5 < a3.colCnt; a5++){a2.push([])}for (a5 = 0; a5 < a4.length; a5++){a2[a4[a5].col].push(a4[a5])}return a2}}); function aw(a2){var a4; var a5; var a3; a2.sort(w); a4 = D(a2); ai(a4); if ((a5 = a4[0])){for (a3 = 0; a3 < a5.length; a3++){ao(a5[a3])}for (a3 = 0; a3 < a5.length; a3++){O(a5[a3], 0, 0)}}}function D(a3){var a6 = []; var a5, a2; var a4; for (a5 = 0; a5 < a3.length; a5++){a2 = a3[a5]; for (a4 = 0; a4 < a6.length; a4++){if (!a0(a2, a6[a4]).length){break}}a2.level = a4; (a6[a4] || (a6[a4] = [])).push(a2)}return a6}function ai(a6){var a5, a7; var a4, a2; var a3; for (a5 = 0; a5 < a6.length; a5++){a7 = a6[a5]; for (a4 = 0; a4 < a7.length; a4++){a2 = a7[a4]; a2.forwardSegs = []; for (a3 = a5 + 1; a3 < a6.length; a3++){a0(a2, a6[a3], a2.forwardSegs)}}}}function ao(a3){var a2 = a3.forwardSegs; var a6 = 0; var a5, a4; if (a3.forwardPressure === undefined){for (a5 = 0; a5 < a2.length; a5++){a4 = a2[a5]; ao(a4); a6 = Math.max(a6, 1 + a4.forwardPressure)}a3.forwardPressure = a6}}function O(a3, a5, a6){var a2 = a3.forwardSegs; var a4; if (a3.forwardCoord === undefined){if (!a2.length){a3.forwardCoord = 1} else{a2.sort(aK); O(a2[0], a5 + 1, a6); a3.forwardCoord = a2[0].backwardCoord}a3.backwardCoord = a3.forwardCoord - (a3.forwardCoord - a6) / (a5 + 1); for (a4 = 0; a4 < a2.length; a4++){O(a2[a4], 0, a3.forwardCoord)}}}function a0(a2, a5, a4){a4 = a4 || []; for (var a3 = 0; a3 < a5.length; a3++){if (g(a2, a5[a3])){a4.push(a5[a3])}}return a4}function g(a3, a2){return a3.bottom > a2.top && a3.top < a2.bottom}function aK(a3, a2){return a2.forwardPressure - a3.forwardPressure || (a3.backwardCoord || 0) - (a2.backwardCoord || 0) || w(a3, a2)}aW.prototype = {calendar:null, coordMap:null, el:null, start:null, end:null, intervalStart:null, intervalEnd:null, rowCnt:null, colCnt:null, isSelected:false, scrollerEl:null, scrollTop:null, widgetHeaderClass:null, widgetContentClass:null, highlightStateClass:null, documentMousedownProxy:null, documentDragStartProxy:null, init:function(){var a2 = this.opt("theme")?"ui":"fc"; this.widgetHeaderClass = a2 + "-widget-header"; this.widgetContentClass = a2 + "-widget-content"; this.highlightStateClass = a2 + "-state-highlight"; this.documentMousedownProxy = aF.proxy(this, "documentMousedown"); this.documentDragStartProxy = aF.proxy(this, "documentDragStart")}, render:function(){this.updateSize(); this.trigger("viewRender", this, this, this.el); aF(document).on("mousedown", this.documentMousedownProxy).on("dragstart", this.documentDragStartProxy)}, destroy:function(){this.unselect(); this.trigger("viewDestroy", this, this, this.el); this.destroyEvents(); this.el.empty(); aF(document).off("mousedown", this.documentMousedownProxy).off("dragstart", this.documentDragStartProxy)}, incrementDate:function(a2, a3){}, updateSize:function(a2){if (a2){this.recordScroll()}this.updateHeight(); this.updateWidth()}, updateWidth:function(){}, updateHeight:function(){var a2 = this.calendar; this.setHeight(a2.getSuggestedViewHeight(), a2.isHeightAuto())}, setHeight:function(a3, a2){}, computeScrollerHeight:function(a2){var a4 = this.el.add(this.scrollerEl); var a3; a4.css({position:"relative", left: - 1}); a3 = this.el.outerHeight() - this.scrollerEl.height(); a4.css({position:"", left:""}); return a2 - a3}, recordScroll:function(){if (this.scrollerEl){this.scrollTop = this.scrollerEl.scrollTop()}}, restoreScroll:function(){if (this.scrollTop !== null){this.scrollerEl.scrollTop(this.scrollTop)}}, renderEvents:function(a2){this.segEach(function(a3){this.trigger("eventAfterRender", a3.event, a3.event, a3.el)}); this.trigger("eventAfterAllRender")}, destroyEvents:function(){this.segEach(function(a2){this.trigger("eventDestroy", a2.event, a2.event, a2.el)})}, resolveEventEl:function(a3, a2){var a4 = this.trigger("eventRender", a3, a3, a2); if (a4 === false){a2 = null} else{if (a4 && a4 !== true){a2 = aF(a4)}}return a2}, showEvent:function(a2){this.segEach(function(a3){a3.el.css("visibility", "")}, a2)}, hideEvent:function(a2){this.segEach(function(a3){a3.el.css("visibility", "hidden")}, a2)}, segEach:function(a5, a4){var a2 = this.getSegs(); var a3; for (a3 = 0; a3 < a2.length; a3++){if (!a4 || a2[a3].event._id === a4._id){a5.call(this, a2[a3])}}}, getSegs:function(){}, renderDrag:function(a4, a3, a2){}, destroyDrag:function(){}, documentDragStart:function(bb, ba){var a8 = this; var a6 = this.calendar; var a9 = null; var a7 = null; var bc = null; var a4; var a5; var bd; var a3; var a2; if (this.opt("droppable")){a4 = aF(bb.target); a5 = this.opt("dropAccept"); if (aF.isFunction(a5)?a5.call(a4[0], a4):a4.is(a5)){bd = ae(a4); a3 = bd.eventProps; a2 = new aL(this.coordMap, {cellOver:function(be, bf){a9 = bf; a7 = bd.duration?a9.clone().add(bd.duration):null; bc = a7 || a6.getDefaultEventEnd(!a9.hasTime(), a9); if (a3){aF.extend(a3, {start:a9, end:a7})}if (a6.isExternalDragAllowedInRange(a9, bc, a3)){a8.renderDrag(a9, bc)} else{a9 = null; an()}}, cellOut:function(){a9 = null; a8.destroyDrag(); y()}}); aF(document).one("dragstop", function(bf, bg){var be; a8.destroyDrag(); y(); if (a9){if (bd.startTime && !a9.hasTime()){a9.time(bd.startTime)}a8.trigger("drop", a4[0], a9, bf, bg); if (a3){be = a6.renderEvent(a3, bd.stick); a8.trigger("eventReceive", null, be[0])}}}); a2.startDrag(bb)}}}, select:function(a4, a2, a3){this.unselect(a3); this.renderSelection(a4, a2); this.reportSelection(a4, a2, a3)}, renderSelection:function(a3, a2){}, reportSelection:function(a4, a2, a3){this.isSelected = true; this.trigger("select", null, a4, a2, a3)}, unselect:function(a2){if (this.isSelected){this.isSelected = false; this.destroySelection(); this.trigger("unselect", null, a2)}}, destroySelection:function(){}, documentMousedown:function(a2){var a3; if (this.isSelected && this.opt("unselectAuto") && S(a2)){a3 = this.opt("unselectCancel"); if (!a3 || !aF(a2.target).closest(a3).length){this.unselect(a2)}}}}; function aW(bk){var bi = this; bi.calendar = bk; bi.opt = a3; bi.trigger = bl; bi.isEventDraggable = bo; bi.isEventResizable = bq; bi.eventDrop = bn; bi.eventResize = a4; var bd = bk.reportEventChange; var a5 = bk.options; var br = x.duration(a5.nextDayThreshold); bi.init(); function a3(by){var bx = a5[by]; if (aF.isPlainObject(bx) && !Y(by)){return F(bx, bi.name)}return bx}function bl(bx, by){return bk.trigger.apply(bk, [bx, by || bi].concat(Array.prototype.slice.call(arguments, 2), [bi]))}function bo(bx){var by = bx.source || {}; return aZ(bx.startEditable, by.startEditable, a3("eventStartEditable"), bx.editable, by.editable, a3("editable"))}function bq(bx){var by = bx.source || {}; return aZ(bx.durationEditable, by.durationEditable, a3("eventDurationEditable"), bx.editable, by.editable, a3("editable"))}bi.getEventTimeText = function(bz, by){var bA; var bx; if (typeof bz === "object" && typeof by === "object"){bA = bz; bx = by; by = arguments[2]} else{bA = bz.start; bx = bz.end}by = by || a3("timeFormat"); if (bx && a3("displayEventEnd")){return bk.formatRange(bA, bx, by)} else{return bk.formatDate(bA, by)}}; function bn(by, bA, bx, bz){var bB = bk.mutateEvent(bA, bx, null); bl("eventDrop", by, bA, bB.dateDelta, function(){bB.undo(); bd()}, bz, {}); bd()}function a4(bx, bA, bz, by){var bB = bk.mutateEvent(bA, null, bz); bl("eventResize", bx, bA, bB.durationDelta, function(){bB.undo(); bd()}, by, {}); bd()}bi.isHiddenDay = bc; bi.skipHiddenDays = be; bi.getCellsPerWeek = bf; bi.dateToCell = bv; bi.dateToDayOffset = bs; bi.dayOffsetToCellOffset = bj; bi.cellOffsetToCell = a9; bi.cellToDate = ba; bi.cellToCellOffset = bw; bi.cellOffsetToDayOffset = a2; bi.dayOffsetToDate = bm; bi.rangeToSegments = bg; bi.isMultiDayEvent = bu; var bt = a3("hiddenDays") || []; var a8 = []; var bh; var a6 = []; var bp = []; var a7 = a3("isRTL"); (function(){if (a3("weekends") === false){bt.push(0, 6)}for (var by = 0, bx = 0; by < 7; by++){a6[by] = bx; a8[by] = aF.inArray(by, bt) != - 1; if (!a8[by]){bp[bx] = by; bx++}}bh = bx; if (!bh){throw"invalid hiddenDays"}})(); function bc(bx){if (x.isMoment(bx)){bx = bx.day()}return a8[bx]}function bf(){return bh}function be(bz, bA, bx){var by = bz.clone(); bA = bA || 1; while (a8[(by.day() + (bx?bA:0) + 7) % 7]){by.add(bA, "days")}return by}function ba(){var bz = bw.apply(null, arguments); var bx = a2(bz); var by = bm(bx); return by}function bw(bC, bA){var bz = bi.colCnt; var by = a7? - 1:1; var bx = a7?bz - 1:0; if (typeof bC == "object"){bA = bC.col; bC = bC.row}var bB = bC * bz + (bA * by + bx); return bB}function a2(by){var bx = bi.start.day(); by += a6[bx]; return Math.floor(by / bh) * 7 + bp[(by % bh + bh) % bh] - bx}function bm(bx){return bi.start.clone().add(bx, "days")}function bv(bz){var by = bs(bz); var bA = bj(by); var bx = a9(bA); return bx}function bs(bx){return bx.clone().stripTime().diff(bi.start, "days")}function bj(by){var bx = bi.start.day(); by += bx; return Math.floor(by / 7) * bh + a6[(by % 7 + 7) % 7] - a6[bx]}function a9(bC){var bA = bi.colCnt; var by = a7? - 1:1; var bx = a7?bA - 1:0; var bB = Math.floor(bC / bA); var bz = ((bC % bA + bA) % bA) * by + bx; return{row:bB, col:bz}}function bg(bB, bz){var bC = bi.rowCnt; var bM = bi.colCnt; var bN = []; var bP = bb(bB, bz); var bQ = bs(bP.start); var bL = bs(bP.end); var bO = bj(bQ); var bD = bj(bL) - 1; for (var bE = 0; bE < bC; bE++){var by = bE * bM; var bI = by + bM - 1; var bJ = Math.max(bO, by); var bA = Math.min(bD, bI); if (bJ <= bA){var bx = a9(bJ); var bK = a9(bA); var bH = [bx.col, bK.col].sort(af); var bF = a2(bJ) == bQ; var bG = a2(bA) + 1 == bL; bN.push({row:bE, leftCol:bH[0], rightCol:bH[1], isStart:bF, isEnd:bG})}}return bN}function bb(bB, bx){var bA = bB.clone().stripTime(); var bz; var by; if (bx){bz = bx.clone().stripTime(); by = + bx.time(); if (by && by >= br){bz.add(1, "days")}}if (!bx || bz <= bA){bz = bA.clone().add(1, "days")}return{start:bA, end:bz}}function bu(by){var bx = bb(by.start, by.end); return bx.end.diff(bx.start, "days") > 1}}aT.dataAttrPrefix = ""; function ae(a4){var a6 = aT.dataAttrPrefix; var a5; var a3; var a7; var a2; if (a6){a6 += "-"}a5 = a4.data(a6 + "event") || null; if (a5){if (typeof a5 === "object"){a5 = aF.extend({}, a5)} else{a5 = {}}a3 = a5.start; if (a3 == null){a3 = a5.time}a7 = a5.duration; a2 = a5.stick; delete a5.start; delete a5.time; delete a5.duration; delete a5.stick}if (a3 == null){a3 = a4.data(a6 + "start")}if (a3 == null){a3 = a4.data(a6 + "time")}if (a7 == null){a7 = a4.data(a6 + "duration")}if (a2 == null){a2 = a4.data(a6 + "stick")}a3 = a3 != null?x.duration(a3):null; a7 = a7 != null?x.duration(a7):null; a2 = Boolean(a2); return{eventProps:a5, startTime:a3, duration:a7, stick:a2}}function v(a2){aW.call(this, a2); this.dayGrid = new aN(this); this.coordMap = this.dayGrid.coordMap}v.prototype = P(aW.prototype); aF.extend(v.prototype, {dayGrid:null, dayNumbersVisible:false, weekNumbersVisible:false, weekNumberWidth:null, headRowEl:null, render:function(a4, a2, a3){this.rowCnt = a4; this.colCnt = a2; this.dayNumbersVisible = a3; this.weekNumbersVisible = this.opt("weekNumbers"); this.dayGrid.numbersVisible = this.dayNumbersVisible || this.weekNumbersVisible; this.el.addClass("fc-basic-view").html(this.renderHtml()); this.headRowEl = this.el.find("thead .fc-row"); this.scrollerEl = this.el.find(".fc-day-grid-container"); this.dayGrid.coordMap.containerEl = this.scrollerEl; this.dayGrid.el = this.el.find(".fc-day-grid"); this.dayGrid.render(this.hasRigidRows()); aW.prototype.render.call(this)}, destroy:function(){this.dayGrid.destroy(); aW.prototype.destroy.call(this)}, renderHtml:function(){return'<table><thead><tr><td class="' + this.widgetHeaderClass + '">' + this.dayGrid.headHtml() + '</td></tr></thead><tbody><tr><td class="' + this.widgetContentClass + '"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'}, headIntroHtml:function(){if (this.weekNumbersVisible){return'<th class="fc-week-number ' + this.widgetHeaderClass + '" ' + this.weekNumberStyleAttr() + "><span>" + aX(this.opt("weekNumberTitle")) + "</span></th>"}}, numberIntroHtml:function(a2){if (this.weekNumbersVisible){return'<td class="fc-week-number" ' + this.weekNumberStyleAttr() + "><span>" + this.calendar.calculateWeekNumber(this.cellToDate(a2, 0)) + "</span></td>"}}, dayIntroHtml:function(){if (this.weekNumbersVisible){return'<td class="fc-week-number ' + this.widgetContentClass + '" ' + this.weekNumberStyleAttr() + "></td>"}}, introHtml:function(){if (this.weekNumbersVisible){return'<td class="fc-week-number" ' + this.weekNumberStyleAttr() + "></td>"}}, numberCellHtml:function(a5, a3, a2){var a4; if (!this.dayNumbersVisible){return"<td/>"}a4 = this.dayGrid.getDayClasses(a2); a4.unshift("fc-day-number"); return'<td class="' + a4.join(" ") + '" data-date="' + a2.format() + '">' + a2.date() + "</td>"}, weekNumberStyleAttr:function(){if (this.weekNumberWidth !== null){return'style="width:' + this.weekNumberWidth + 'px"'}return""}, hasRigidRows:function(){var a2 = this.opt("eventLimit"); return a2 && typeof a2 !== "number"}, updateWidth:function(){if (this.weekNumbersVisible){this.weekNumberWidth = H(this.el.find(".fc-week-number"))}}, setHeight:function(a4, a2){var a3 = this.opt("eventLimit"); var a5; q(this.scrollerEl); ah(this.headRowEl); this.dayGrid.destroySegPopover(); if (a3 && typeof a3 === "number"){this.dayGrid.limitRows(a3)}a5 = this.computeScrollerHeight(a4); this.setGridHeight(a5, a2); if (a3 && typeof a3 !== "number"){this.dayGrid.limitRows(a3)}if (!a2 && aR(this.scrollerEl, a5)){aQ(this.headRowEl, i(this.scrollerEl)); a5 = this.computeScrollerHeight(a4); this.scrollerEl.height(a5); this.restoreScroll()}}, setGridHeight:function(a3, a2){if (a2){c(this.dayGrid.rowEls)} else{E(this.dayGrid.rowEls, a3, true)}}, renderEvents:function(a2){this.dayGrid.renderEvents(a2); this.updateHeight(); aW.prototype.renderEvents.call(this, a2)}, getSegs:function(){return this.dayGrid.getSegs()}, destroyEvents:function(){aW.prototype.destroyEvents.call(this); this.recordScroll(); this.dayGrid.destroyEvents()}, renderDrag:function(a4, a3, a2){return this.dayGrid.renderDrag(a4, a3, a2)}, destroyDrag:function(){this.dayGrid.destroyDrag()}, renderSelection:function(a3, a2){this.dayGrid.renderSelection(a3, a2)}, destroySelection:function(){this.dayGrid.destroySelection()}}); ax({fixedWeekCount:true}); at.month = aq; function aq(a2){v.call(this, a2)}aq.prototype = P(v.prototype); aF.extend(aq.prototype, {name:"month", incrementDate:function(a2, a3){return a2.clone().stripTime().add(a3, "months").startOf("month")}, render:function(a2){var a3; this.intervalStart = a2.clone().stripTime().startOf("month"); this.intervalEnd = this.intervalStart.clone().add(1, "months"); this.start = this.intervalStart.clone(); this.start = this.skipHiddenDays(this.start); this.start.startOf("week"); this.start = this.skipHiddenDays(this.start); this.end = this.intervalEnd.clone(); this.end = this.skipHiddenDays(this.end, - 1, true); this.end.add((7 - this.end.weekday()) % 7, "days"); this.end = this.skipHiddenDays(this.end, - 1, true); a3 = Math.ceil(this.end.diff(this.start, "weeks", true)); if (this.isFixedWeeks()){this.end.add(6 - a3, "weeks"); a3 = 6}this.title = this.calendar.formatDate(this.intervalStart, this.opt("titleFormat")); v.prototype.render.call(this, a3, this.getCellsPerWeek(), true)}, setGridHeight:function(a3, a2){a2 = a2 || this.opt("weekMode") === "variable"; if (a2){a3 *= this.rowCnt / 6}E(this.dayGrid.rowEls, a3, !a2)}, isFixedWeeks:function(){var a2 = this.opt("weekMode"); if (a2){return a2 === "fixed"}return this.opt("fixedWeekCount")}}); at.basicWeek = aS; function aS(a2){v.call(this, a2)}aS.prototype = P(v.prototype); aF.extend(aS.prototype, {name:"basicWeek", incrementDate:function(a2, a3){return a2.clone().stripTime().add(a3, "weeks").startOf("week")}, render:function(a2){this.intervalStart = a2.clone().stripTime().startOf("week"); this.intervalEnd = this.intervalStart.clone().add(1, "weeks"); this.start = this.skipHiddenDays(this.intervalStart); this.end = this.skipHiddenDays(this.intervalEnd, - 1, true); this.title = this.calendar.formatRange(this.start, this.end.clone().subtract(1), this.opt("titleFormat"), " \u2014 "); v.prototype.render.call(this, 1, this.getCellsPerWeek(), false)}}); at.basicDay = N; function N(a2){v.call(this, a2)}N.prototype = P(v.prototype); aF.extend(N.prototype, {name:"basicDay", incrementDate:function(a3, a4){var a2 = a3.clone().stripTime().add(a4, "days"); a2 = this.skipHiddenDays(a2, a4 < 0? - 1:1); return a2}, render:function(a2){this.start = this.intervalStart = a2.clone().stripTime(); this.end = this.intervalEnd = this.start.clone().add(1, "days"); this.title = this.calendar.formatDate(this.start, this.opt("titleFormat")); v.prototype.render.call(this, 1, 1, false)}}); ax({allDaySlot:true, allDayText:"all-day", scrollTime:"06:00:00", slotDuration:"00:30:00", axisFormat:aB, timeFormat:{agenda:m}, minTime:"00:00:00", maxTime:"24:00:00", slotEventOverlap:true}); var a = 5; function aB(a3, a2){return a2.longDateFormat("LT").replace(":mm", "(:mm)").replace(/(\Wmm)$/, "($1)").replace(/\s*a$/i, "a")}function m(a3, a2){return a2.longDateFormat("LT").replace(/\s*a$/i, "")}function K(a2){aW.call(this, a2); this.timeGrid = new h(this); if (this.opt("allDaySlot")){this.dayGrid = new aN(this); this.coordMap = new B([this.dayGrid.coordMap, this.timeGrid.coordMap])} else{this.coordMap = this.timeGrid.coordMap}}K.prototype = P(aW.prototype); aF.extend(K.prototype, {timeGrid:null, dayGrid:null, axisWidth:null, noScrollRowEls:null, bottomRuleEl:null, bottomRuleHeight:null, render:function(a2){this.rowCnt = 1; this.colCnt = a2; this.el.addClass("fc-agenda-view").html(this.renderHtml()); this.scrollerEl = this.el.find(".fc-time-grid-container"); this.timeGrid.coordMap.containerEl = this.scrollerEl; this.timeGrid.el = this.el.find(".fc-time-grid"); this.timeGrid.render(); this.bottomRuleEl = aF('<hr class="' + this.widgetHeaderClass + '"/>').appendTo(this.timeGrid.el); if (this.dayGrid){this.dayGrid.el = this.el.find(".fc-day-grid"); this.dayGrid.render(); this.dayGrid.bottomCoordPadding = this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls = this.el.find(".fc-row:not(.fc-scroller *)"); aW.prototype.render.call(this); this.resetScroll()}, destroy:function(){this.timeGrid.destroy(); if (this.dayGrid){this.dayGrid.destroy()}aW.prototype.destroy.call(this)}, renderHtml:function(){return'<table><thead><tr><td class="' + this.widgetHeaderClass + '">' + this.timeGrid.headHtml() + '</td></tr></thead><tbody><tr><td class="' + this.widgetContentClass + '">' + (this.dayGrid?'<div class="fc-day-grid"/><hr class="' + this.widgetHeaderClass + '"/>':"") + '<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'}, headIntroHtml:function(){var a4; var a3; var a2; var a5; if (this.opt("weekNumbers")){a4 = this.cellToDate(0, 0); a3 = this.calendar.calculateWeekNumber(a4); a2 = this.opt("weekNumberTitle"); if (this.opt("isRTL")){a5 = a3 + a2} else{a5 = a2 + a3}return'<th class="fc-axis fc-week-number ' + this.widgetHeaderClass + '" ' + this.axisStyleAttr() + "><span>" + aX(a5) + "</span></th>"} else{return'<th class="fc-axis ' + this.widgetHeaderClass + '" ' + this.axisStyleAttr() + "></th>"}}, dayIntroHtml:function(){return'<td class="fc-axis ' + this.widgetContentClass + '" ' + this.axisStyleAttr() + "><span>" + (this.opt("allDayHtml") || aX(this.opt("allDayText"))) + "</span></td>"}, slotBgIntroHtml:function(){return'<td class="fc-axis ' + this.widgetContentClass + '" ' + this.axisStyleAttr() + "></td>"}, introHtml:function(){return'<td class="fc-axis" ' + this.axisStyleAttr() + "></td>"}, axisStyleAttr:function(){if (this.axisWidth !== null){return'style="width:' + this.axisWidth + 'px"'}return""}, updateSize:function(a2){if (a2){this.timeGrid.resize()}aW.prototype.updateSize.call(this, a2)}, updateWidth:function(){this.axisWidth = H(this.el.find(".fc-axis"))}, setHeight:function(a4, a2){var a3; var a5; if (this.bottomRuleHeight === null){this.bottomRuleHeight = this.bottomRuleEl.outerHeight()}this.bottomRuleEl.hide(); this.scrollerEl.css("overflow", ""); q(this.scrollerEl); ah(this.noScrollRowEls); if (this.dayGrid){this.dayGrid.destroySegPopover(); a3 = this.opt("eventLimit"); if (a3 && typeof a3 !== "number"){a3 = a}if (a3){this.dayGrid.limitRows(a3)}}if (!a2){a5 = this.computeScrollerHeight(a4); if (aR(this.scrollerEl, a5)){aQ(this.noScrollRowEls, i(this.scrollerEl)); a5 = this.computeScrollerHeight(a4); this.scrollerEl.height(a5); this.restoreScroll()} else{this.scrollerEl.height(a5).css("overflow", "hidden"); this.bottomRuleEl.show()}}}, resetScroll:function(){var a5 = this; var a4 = x.duration(this.opt("scrollTime")); var a3 = this.timeGrid.computeTimeTop(a4); a3 = Math.ceil(a3); if (a3){a3++}function a2(){a5.scrollerEl.scrollTop(a3)}a2(); setTimeout(a2, 0)}, renderEvents:function(a3){var a6 = []; var a4 = []; var a7 = []; var a5; var a2; for (a2 = 0; a2 < a3.length; a2++){if (a3[a2].allDay){a6.push(a3[a2])} else{a4.push(a3[a2])}}a5 = this.timeGrid.renderEvents(a4); if (this.dayGrid){a7 = this.dayGrid.renderEvents(a6)}this.updateHeight(); aW.prototype.renderEvents.call(this, a3)}, getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])}, destroyEvents:function(){aW.prototype.destroyEvents.call(this); this.recordScroll(); this.timeGrid.destroyEvents(); if (this.dayGrid){this.dayGrid.destroyEvents()}}, renderDrag:function(a4, a3, a2){if (a4.hasTime()){return this.timeGrid.renderDrag(a4, a3, a2)} else{if (this.dayGrid){return this.dayGrid.renderDrag(a4, a3, a2)}}}, destroyDrag:function(){this.timeGrid.destroyDrag(); if (this.dayGrid){this.dayGrid.destroyDrag()}}, renderSelection:function(a3, a2){if (a3.hasTime() || a2.hasTime()){this.timeGrid.renderSelection(a3, a2)} else{if (this.dayGrid){this.dayGrid.renderSelection(a3, a2)}}}, destroySelection:function(){this.timeGrid.destroySelection(); if (this.dayGrid){this.dayGrid.destroySelection()}}}); at.agendaWeek = j; function j(a2){K.call(this, a2)}j.prototype = P(K.prototype); aF.extend(j.prototype, {name:"agendaWeek", incrementDate:function(a2, a3){return a2.clone().stripTime().add(a3, "weeks").startOf("week")}, render:function(a2){this.intervalStart = a2.clone().stripTime().startOf("week"); this.intervalEnd = this.intervalStart.clone().add(1, "weeks"); this.start = this.skipHiddenDays(this.intervalStart); this.end = this.skipHiddenDays(this.intervalEnd, - 1, true); this.title = this.calendar.formatRange(this.start, this.end.clone().subtract(1), this.opt("titleFormat"), " \u2014 "); K.prototype.render.call(this, this.getCellsPerWeek())}}); at.agendaDay = aJ; function aJ(a2){K.call(this, a2)}aJ.prototype = P(K.prototype); aF.extend(aJ.prototype, {name:"agendaDay", incrementDate:function(a3, a4){var a2 = a3.clone().stripTime().add(a4, "days"); a2 = this.skipHiddenDays(a2, a4 < 0? - 1:1); return a2}, render:function(a2){this.start = this.intervalStart = a2.clone().stripTime(); this.end = this.intervalEnd = this.start.clone().add(1, "days"); this.title = this.calendar.formatDate(this.start, this.opt("titleFormat")); K.prototype.render.call(this, 1)}})});
